"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_BarcodeScanner_tsx",{

/***/ "(app-pages-browser)/./components/BarcodeScanner.tsx":
/*!***************************************!*\
  !*** ./components/BarcodeScanner.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BarcodeScanner; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://127.0.0.1:8000\";\nconst FORMATS = [\n    \"ean_13\",\n    \"ean_8\",\n    \"upc_a\",\n    \"code_128\",\n    \"code_39\",\n    \"itf\"\n];\nfunction BarcodeScanner(param) {\n    let { onDetected, onClose } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const detectorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [frozen, setFrozen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [snapshotUrl, setSnapshotUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [devices, setDevices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [deviceId, setDeviceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const stop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (streamRef.current) {\n            try {\n                streamRef.current.getTracks().forEach((t)=>t.stop());\n            } catch (e) {}\n            streamRef.current = null;\n        }\n        if (videoRef.current) {\n            try {\n                videoRef.current.pause();\n            } catch (e) {}\n            try {\n                videoRef.current.srcObject = null;\n            } catch (e) {}\n        }\n    }, []);\n    const close = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        stop();\n        onClose();\n    }, [\n        onClose,\n        stop\n    ]);\n    const startStream = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (selectedId)=>{\n        setError(\"\");\n        try {\n            if (streamRef.current) {\n                streamRef.current.getTracks().forEach((t)=>t.stop());\n                streamRef.current = null;\n            }\n            const constraints = {\n                video: {\n                    facingMode: {\n                        ideal: \"environment\"\n                    },\n                    width: {\n                        ideal: 1920\n                    },\n                    height: {\n                        ideal: 1080\n                    },\n                    ...selectedId ? {\n                        deviceId: {\n                            exact: selectedId\n                        }\n                    } : {}\n                },\n                audio: false\n            };\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            streamRef.current = stream;\n            const v = videoRef.current;\n            if (v) {\n                v.srcObject = stream;\n                await new Promise((resolve)=>{\n                    if (v.readyState >= 2) resolve();\n                    else v.addEventListener(\"loadedmetadata\", ()=>resolve(), {\n                        once: true\n                    });\n                });\n                try {\n                    await v.play();\n                } catch (err) {\n                    if (!(err && err.name === \"AbortError\")) throw err;\n                }\n            }\n            if (\"BarcodeDetector\" in window) {\n                detectorRef.current = new window.BarcodeDetector({\n                    formats: FORMATS\n                });\n            }\n        } catch (e) {\n            console.error(e);\n            setError(\"カメラを起動できませんでした。画像から読み取りに切り替えます。\");\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                var _cams_;\n                const list = await navigator.mediaDevices.enumerateDevices();\n                const cams = list.filter((d)=>d.kind === \"videoinput\");\n                if (!mounted) return;\n                setDevices(cams);\n                const preferred = cams.find((d)=>/back|environment|rear/i.test(d.label));\n                const id = deviceId || (preferred === null || preferred === void 0 ? void 0 : preferred.deviceId) || ((_cams_ = cams[0]) === null || _cams_ === void 0 ? void 0 : _cams_.deviceId);\n                setDeviceId(id);\n                await startStream(id);\n            } catch (e) {\n                await startStream(undefined);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n            stop();\n        };\n    }, [\n        startStream,\n        stop\n    ]);\n    const runDetectOnCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (canvas)=>{\n        if (\"BarcodeDetector\" in window) {\n            try {\n                const det = detectorRef.current || new window.BarcodeDetector({\n                    formats: FORMATS\n                });\n                detectorRef.current = det;\n                const res = await det.detect(canvas);\n                if (res && res.length > 0 && res[0].rawValue) return String(res[0].rawValue);\n            } catch (e) {}\n        }\n        try {\n            const { BrowserMultiFormatReader } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_zxing_browser_esm_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! @zxing/browser */ \"(app-pages-browser)/./node_modules/@zxing/browser/esm/index.js\"));\n            const reader = new BrowserMultiFormatReader();\n            const blob = await new Promise((resolve, reject)=>canvas.toBlob((b)=>b ? resolve(b) : reject(new Error(\"toBlob failed\")), \"image/png\"));\n            const url = URL.createObjectURL(blob);\n            try {\n                var _result_getText;\n                const result = await reader.decodeFromImageUrl(url);\n                const val = result && (((_result_getText = result.getText) === null || _result_getText === void 0 ? void 0 : _result_getText.call(result)) || result.text);\n                if (val) return String(val);\n            } finally{\n                var _reader_reset;\n                URL.revokeObjectURL(url);\n                (_reader_reset = reader.reset) === null || _reader_reset === void 0 ? void 0 : _reader_reset.call(reader);\n            }\n        } catch (e) {}\n        return null;\n    }, []);\n    const onPickImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (ev)=>{\n        var _ev_target_files;\n        const f = (_ev_target_files = ev.target.files) === null || _ev_target_files === void 0 ? void 0 : _ev_target_files[0];\n        if (!f) return;\n        try {\n            const bmp = await createImageBitmap(f);\n            const maxSide = Math.max(bmp.width, bmp.height);\n            const scale = maxSide < 900 ? Math.ceil(900 / maxSide) : 1;\n            const w = bmp.width * scale;\n            const h = bmp.height * scale;\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.imageSmoothingEnabled = true;\n            ctx.filter = \"grayscale(100%) contrast(125%)\";\n            ctx.drawImage(bmp, 0, 0, w, h);\n            const val = await runDetectOnCanvas(canvas);\n            if (val) {\n                if (navigator.vibrate) navigator.vibrate(50);\n                onDetected(val);\n                close();\n                return;\n            }\n            const fd = new FormData();\n            fd.append(\"file\", f);\n            const r = await fetch(\"\".concat(API_BASE, \"/api/scan\"), {\n                method: \"POST\",\n                body: fd\n            });\n            if (r.ok) {\n                const { code, codes } = await r.json();\n                const v = code || Array.isArray(codes) && codes[0];\n                if (v) {\n                    if (navigator.vibrate) navigator.vibrate(50);\n                    onDetected(String(v));\n                    close();\n                    return;\n                }\n            }\n            setError(\"画像からバーコードを読み取れませんでした\");\n        } catch (e) {\n            setError(\"画像の処理に失敗しました\");\n        }\n    }, [\n        close,\n        onDetected,\n        runDetectOnCanvas\n    ]);\n    const captureAndDetect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const v = videoRef.current;\n        if (!v) return;\n        try {\n            setBusy(true);\n            const vw = v.videoWidth || v.clientWidth || 0;\n            const vh = v.videoHeight || v.clientHeight || 0;\n            if (!vw || !vh) throw new Error(\"no video frame\");\n            // ROI: inset 20% top/bottom, 10% left/right\n            const rx = 0.1 * vw, ry = 0.2 * vh, rw = 0.8 * vw, rh = 0.6 * vh;\n            const scale = Math.max(1, Math.ceil(Math.max(rw, rh) < 900 ? 900 / Math.max(rw, rh) : 1));\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = Math.round(rw * scale);\n            canvas.height = Math.round(rh * scale);\n            const ctx = canvas.getContext(\"2d\");\n            ctx.imageSmoothingEnabled = true;\n            ctx.filter = \"grayscale(100%) contrast(125%)\";\n            ctx.drawImage(v, rx, ry, rw, rh, 0, 0, canvas.width, canvas.height);\n            // Freeze preview with snapshot\n            try {\n                const blob = await new Promise((resolve)=>canvas.toBlob((b)=>resolve(b), \"image/png\"));\n                const url = URL.createObjectURL(blob);\n                setSnapshotUrl(url);\n                setFrozen(true);\n                try {\n                    v.pause();\n                } catch (e) {}\n            } catch (e) {}\n            const val = await runDetectOnCanvas(canvas);\n            if (val) {\n                if (navigator.vibrate) navigator.vibrate(50);\n                onDetected(val);\n                close();\n                return;\n            }\n            setError(\"認識できませんでした。枠内で再撮影してください。\");\n        } catch (e) {\n            setError(\"フレームの取得に失敗しました\");\n        } finally{\n            setBusy(false);\n        }\n    }, [\n        close,\n        onDetected,\n        runDetectOnCanvas\n    ]);\n    const retry = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setFrozen(false);\n        if (snapshotUrl) {\n            try {\n                URL.revokeObjectURL(snapshotUrl);\n            } catch (e) {}\n        }\n        setSnapshotUrl(null);\n        const v = videoRef.current;\n        if (v) {\n            try {\n                v.play();\n            } catch (e) {}\n        }\n        setError(\"\");\n    }, [\n        snapshotUrl\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: overlayStyle,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: containerStyle,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        marginBottom: 8\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: \"バーコードを枠に合わせてください\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 195,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: close,\n                            children: \"閉じる\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 196,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 194,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"#c00\",\n                        marginBottom: 8\n                    },\n                    children: error\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 198,\n                    columnNumber: 19\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        position: \"relative\",\n                        width: \"100%\",\n                        aspectRatio: \"3/4\",\n                        background: \"#000\",\n                        borderRadius: 8,\n                        overflow: \"hidden\"\n                    },\n                    children: [\n                        !frozen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: videoRef,\n                            playsInline: true,\n                            muted: true,\n                            style: {\n                                width: \"100%\",\n                                height: \"100%\",\n                                objectFit: \"cover\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 23\n                        }, this),\n                        frozen && snapshotUrl && // eslint-disable-next-line @next/next/no-img-element\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: snapshotUrl,\n                            alt: \"snapshot\",\n                            style: {\n                                width: \"100%\",\n                                height: \"100%\",\n                                objectFit: \"cover\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 203,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: frameStyle\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 205,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 199,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: 12,\n                        display: \"flex\",\n                        gap: 8,\n                        alignItems: \"center\",\n                        flexWrap: \"wrap\"\n                    },\n                    children: [\n                        !frozen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: captureAndDetect,\n                            disabled: busy,\n                            style: {\n                                height: 36,\n                                padding: \"0 12px\",\n                                borderRadius: 8,\n                                border: \"1px solid #0ea5e9\",\n                                background: \"#e0f2fe\",\n                                color: \"#075985\"\n                            },\n                            children: busy ? \"解析中...\" : \"撮影して読み取る\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 209,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: retry,\n                            style: {\n                                height: 36,\n                                padding: \"0 12px\",\n                                borderRadius: 8,\n                                border: \"1px solid #334155\",\n                                background: \"#f1f5f9\",\n                                color: \"#0f172a\"\n                            },\n                            children: \"やり直す\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 213,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            style: {\n                                display: \"inline-block\"\n                            },\n                            children: [\n                                \"画像から読み取る:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    accept: \"image/*\",\n                                    onChange: onPickImage,\n                                    style: {\n                                        display: \"block\",\n                                        marginTop: 6\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 11\n                        }, this),\n                        devices.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            style: {\n                                display: \"inline-flex\",\n                                alignItems: \"center\",\n                                gap: 6\n                            },\n                            children: [\n                                \"カメラ:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: deviceId,\n                                    onChange: (e)=>{\n                                        const id = e.target.value || undefined;\n                                        setDeviceId(id);\n                                        startStream(id);\n                                    },\n                                    style: {\n                                        padding: \"4px 8px\"\n                                    },\n                                    children: devices.map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: d.deviceId,\n                                            children: d.label || \"Camera \".concat(d.deviceId.slice(0, 4))\n                                        }, d.deviceId, false, {\n                                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                            lineNumber: 224,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                    lineNumber: 222,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 220,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 207,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n            lineNumber: 193,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n        lineNumber: 192,\n        columnNumber: 5\n    }, this);\n}\n_s(BarcodeScanner, \"kBDCA9Rkz9FmVnFBsbGIZLq97t8=\");\n_c = BarcodeScanner;\nconst overlayStyle = {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.5)\",\n    display: \"grid\",\n    placeItems: \"center\",\n    zIndex: 1000,\n    padding: 16\n};\nconst containerStyle = {\n    width: \"min(480px, 100%)\",\n    background: \"#fff\",\n    padding: 12,\n    borderRadius: 10\n};\nconst frameStyle = {\n    position: \"absolute\",\n    inset: \"20% 10%\",\n    border: \"2px solid rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    boxShadow: \"0 0 0 9999px rgba(0,0,0,0.25) inset\",\n    pointerEvents: \"none\"\n};\nvar _c;\n$RefreshReg$(_c, \"BarcodeScanner\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQmFyY29kZVNjYW5uZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFaUU7QUFTakUsTUFBTUksV0FBV0MsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSTtBQUN6RCxNQUFNQyxVQUFVO0lBQUM7SUFBVTtJQUFTO0lBQVM7SUFBWTtJQUFXO0NBQU07QUFFM0QsU0FBU0MsZUFBZSxLQUE4QjtRQUE5QixFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBUyxHQUE5Qjs7SUFDckMsTUFBTUMsV0FBV1YsNkNBQU1BLENBQTBCO0lBQ2pELE1BQU1XLFlBQVlYLDZDQUFNQSxDQUFxQjtJQUM3QyxNQUFNWSxjQUFjWiw2Q0FBTUEsQ0FBYTtJQUN2QyxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2IsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDYyxNQUFNQyxRQUFRLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ2dCLFFBQVFDLFVBQVUsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2tCLGFBQWFDLGVBQWUsR0FBR25CLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUNvQixTQUFTQyxXQUFXLEdBQUdyQiwrQ0FBUUEsQ0FBb0IsRUFBRTtJQUM1RCxNQUFNLENBQUNzQixVQUFVQyxZQUFZLEdBQUd2QiwrQ0FBUUEsQ0FBcUJ3QjtJQUU3RCxNQUFNQyxPQUFPNUIsa0RBQVdBLENBQUM7UUFDdkIsSUFBSWEsVUFBVWdCLE9BQU8sRUFBRTtZQUNyQixJQUFJO2dCQUFFaEIsVUFBVWdCLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHQyxPQUFPLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUosSUFBSTtZQUFLLEVBQUUsVUFBTSxDQUFDO1lBQ3ZFZixVQUFVZ0IsT0FBTyxHQUFHO1FBQ3RCO1FBQ0EsSUFBSWpCLFNBQVNpQixPQUFPLEVBQUU7WUFDcEIsSUFBSTtnQkFBRWpCLFNBQVNp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QixPQUFPO0lBQUcxQixZQUFZO0lBQW1CVixTQUFTO0lBQVFxQyxZQUFZO0lBQVVDLFFBQVE7SUFBTWIsU0FBUztBQUFHO0FBQ3pLLE1BQU0xQixpQkFBc0M7SUFBRTdHLE9BQU87SUFBb0J3SCxZQUFZO0lBQVFlLFNBQVM7SUFBSWQsY0FBYztBQUFHO0FBQzNILE1BQU1TLGFBQWtDO0lBQUVaLFVBQVU7SUFBWTRCLE9BQU87SUFBV1YsUUFBUTtJQUFtQ2YsY0FBYztJQUFHNEIsV0FBVztJQUF1Q0MsZUFBZTtBQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQmFyY29kZVNjYW5uZXIudHN4P2M3ODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxudHlwZSBQcm9wcyA9IHtcbiAgb25EZXRlY3RlZDogKGNvZGU6IHN0cmluZykgPT4gdm9pZDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbn07XG5cbmRlY2xhcmUgZ2xvYmFsIHsgaW50ZXJmYWNlIFdpbmRvdyB7IEJhcmNvZGVEZXRlY3Rvcj86IGFueSB9IH1cblxuY29uc3QgQVBJX0JBU0UgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfQkFTRV9VUkwgfHwgXCJodHRwOi8vMTI3LjAuMC4xOjgwMDBcIjtcbmNvbnN0IEZPUk1BVFMgPSBbXCJlYW5fMTNcIiwgXCJlYW5fOFwiLCBcInVwY19hXCIsIFwiY29kZV8xMjhcIiwgXCJjb2RlXzM5XCIsIFwiaXRmXCJdO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXJjb2RlU2Nhbm5lcih7IG9uRGV0ZWN0ZWQsIG9uQ2xvc2UgfTogUHJvcHMpOiBKU1guRWxlbWVudCB7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgc3RyZWFtUmVmID0gdXNlUmVmPE1lZGlhU3RyZWFtIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGRldGVjdG9yUmVmID0gdXNlUmVmPGFueSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbYnVzeSwgc2V0QnVzeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmcm96ZW4sIHNldEZyb3plbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzbmFwc2hvdFVybCwgc2V0U25hcHNob3RVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkZXZpY2VzLCBzZXREZXZpY2VzXSA9IHVzZVN0YXRlPE1lZGlhRGV2aWNlSW5mb1tdPihbXSk7XG4gIGNvbnN0IFtkZXZpY2VJZCwgc2V0RGV2aWNlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IHN0b3AgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHN0cmVhbVJlZi5jdXJyZW50KSB7XG4gICAgICB0cnkgeyBzdHJlYW1SZWYuY3VycmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7IH0gY2F0Y2gge31cbiAgICAgIHN0cmVhbVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIHRyeSB7IHZpZGVvUmVmLmN1cnJlbnQucGF1c2UoKTsgfSBjYXRjaCB7fVxuICAgICAgdHJ5IHsgKHZpZGVvUmVmLmN1cnJlbnQgYXMgYW55KS5zcmNPYmplY3QgPSBudWxsOyB9IGNhdGNoIHt9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgY2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHN0b3AoKTsgb25DbG9zZSgpOyB9LCBbb25DbG9zZSwgc3RvcF0pO1xuXG4gIGNvbnN0IHN0YXJ0U3RyZWFtID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlbGVjdGVkSWQ/OiBzdHJpbmcpID0+IHtcbiAgICBzZXRFcnJvcihcIlwiKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHN0cmVhbVJlZi5jdXJyZW50KSB7IHN0cmVhbVJlZi5jdXJyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHQuc3RvcCgpKTsgc3RyZWFtUmVmLmN1cnJlbnQgPSBudWxsOyB9XG4gICAgICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICBmYWNpbmdNb2RlOiB7IGlkZWFsOiBcImVudmlyb25tZW50XCIgfSxcbiAgICAgICAgICB3aWR0aDogeyBpZGVhbDogMTkyMCB9LFxuICAgICAgICAgIGhlaWdodDogeyBpZGVhbDogMTA4MCB9LFxuICAgICAgICAgIC4uLihzZWxlY3RlZElkID8geyBkZXZpY2VJZDogeyBleGFjdDogc2VsZWN0ZWRJZCB9IH0gOiB7fSksXG4gICAgICAgIH0gYXMgYW55LFxuICAgICAgICBhdWRpbzogZmFsc2UsXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBzdHJlYW07XG4gICAgICBjb25zdCB2ID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgIGlmICh2KSB7XG4gICAgICAgICh2IGFzIGFueSkuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIGlmICgodiBhcyBhbnkpLnJlYWR5U3RhdGUgPj0gMikgcmVzb2x2ZSgpO1xuICAgICAgICAgIGVsc2Ugdi5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgKCkgPT4gcmVzb2x2ZSgpLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkgeyBhd2FpdCB2LnBsYXkoKTsgfSBjYXRjaCAoZXJyOiBhbnkpIHsgaWYgKCEoZXJyICYmIGVyci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikpIHRocm93IGVycjsgfVxuICAgICAgfVxuICAgICAgaWYgKFwiQmFyY29kZURldGVjdG9yXCIgaW4gd2luZG93KSB7XG4gICAgICAgIGRldGVjdG9yUmVmLmN1cnJlbnQgPSBuZXcgKHdpbmRvdyBhcyBhbnkpLkJhcmNvZGVEZXRlY3Rvcih7IGZvcm1hdHM6IEZPUk1BVFMgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIHNldEVycm9yKFwi44Kr44Oh44Op44KS6LW35YuV44Gn44GN44G+44Gb44KT44Gn44GX44Gf44CC55S75YOP44GL44KJ6Kqt44G/5Y+W44KK44Gr5YiH44KK5pu/44GI44G+44GZ44CCXCIpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsaXN0ID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAgIGNvbnN0IGNhbXMgPSBsaXN0LmZpbHRlcigoZCkgPT4gZC5raW5kID09PSBcInZpZGVvaW5wdXRcIik7XG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBzZXREZXZpY2VzKGNhbXMpO1xuICAgICAgICBjb25zdCBwcmVmZXJyZWQgPSBjYW1zLmZpbmQoKGQpID0+IC9iYWNrfGVudmlyb25tZW50fHJlYXIvaS50ZXN0KGQubGFiZWwpKTtcbiAgICAgICAgY29uc3QgaWQgPSBkZXZpY2VJZCB8fCBwcmVmZXJyZWQ/LmRldmljZUlkIHx8IGNhbXNbMF0/LmRldmljZUlkO1xuICAgICAgICBzZXREZXZpY2VJZChpZCk7XG4gICAgICAgIGF3YWl0IHN0YXJ0U3RyZWFtKGlkKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBhd2FpdCBzdGFydFN0cmVhbSh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgbW91bnRlZCA9IGZhbHNlOyBzdG9wKCk7IH07XG4gIH0sIFtzdGFydFN0cmVhbSwgc3RvcF0pO1xuXG4gIGNvbnN0IHJ1bkRldGVjdE9uQ2FudmFzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpID0+IHtcbiAgICBpZiAoXCJCYXJjb2RlRGV0ZWN0b3JcIiBpbiB3aW5kb3cpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRldCA9IGRldGVjdG9yUmVmLmN1cnJlbnQgfHwgbmV3ICh3aW5kb3cgYXMgYW55KS5CYXJjb2RlRGV0ZWN0b3IoeyBmb3JtYXRzOiBGT1JNQVRTIH0pO1xuICAgICAgICBkZXRlY3RvclJlZi5jdXJyZW50ID0gZGV0O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZXQuZGV0ZWN0KGNhbnZhcyBhcyB1bmtub3duIGFzIENhbnZhc0ltYWdlU291cmNlKTtcbiAgICAgICAgaWYgKHJlcyAmJiByZXMubGVuZ3RoID4gMCAmJiByZXNbMF0ucmF3VmFsdWUpIHJldHVybiBTdHJpbmcocmVzWzBdLnJhd1ZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIgfSA9IGF3YWl0IGltcG9ydChcIkB6eGluZy9icm93c2VyXCIpO1xuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEJyb3dzZXJNdWx0aUZvcm1hdFJlYWRlcigpO1xuICAgICAgY29uc3QgYmxvYjogQmxvYiA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IGNhbnZhcy50b0Jsb2IoKGIpID0+IChiID8gcmVzb2x2ZShiKSA6IHJlamVjdChuZXcgRXJyb3IoXCJ0b0Jsb2IgZmFpbGVkXCIpKSksIFwiaW1hZ2UvcG5nXCIpKTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IHJlYWRlci5kZWNvZGVGcm9tSW1hZ2VVcmwodXJsKTtcbiAgICAgICAgY29uc3QgdmFsID0gKHJlc3VsdCAmJiAocmVzdWx0LmdldFRleHQ/LigpIHx8IHJlc3VsdC50ZXh0KSkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAodmFsKSByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIChyZWFkZXIgYXMgYW55KS5yZXNldD8uKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIFtdKTtcblxuICBjb25zdCBvblBpY2tJbWFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChldjogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmID0gZXYudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJtcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGYpO1xuICAgICAgY29uc3QgbWF4U2lkZSA9IE1hdGgubWF4KGJtcC53aWR0aCwgYm1wLmhlaWdodCk7XG4gICAgICBjb25zdCBzY2FsZSA9IG1heFNpZGUgPCA5MDAgPyBNYXRoLmNlaWwoOTAwIC8gbWF4U2lkZSkgOiAxO1xuICAgICAgY29uc3QgdyA9IGJtcC53aWR0aCAqIHNjYWxlO1xuICAgICAgY29uc3QgaCA9IGJtcC5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICBjYW52YXMud2lkdGggPSB3OyBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAoY3R4IGFzIGFueSkuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSkgY29udHJhc3QoMTI1JSlcIjtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoYm1wLCAwLCAwLCB3LCBoKTtcblxuICAgICAgY29uc3QgdmFsID0gYXdhaXQgcnVuRGV0ZWN0T25DYW52YXMoY2FudmFzKTtcbiAgICAgIGlmICh2YWwpIHsgaWYgKG5hdmlnYXRvci52aWJyYXRlKSBuYXZpZ2F0b3IudmlicmF0ZSg1MCk7IG9uRGV0ZWN0ZWQodmFsKTsgY2xvc2UoKTsgcmV0dXJuOyB9XG5cbiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7IGZkLmFwcGVuZChcImZpbGVcIiwgZik7XG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0V9L2FwaS9zY2FuYCwgeyBtZXRob2Q6IFwiUE9TVFwiLCBib2R5OiBmZCB9KTtcbiAgICAgIGlmIChyLm9rKSB7IGNvbnN0IHsgY29kZSwgY29kZXMgfSA9IGF3YWl0IHIuanNvbigpOyBjb25zdCB2ID0gY29kZSB8fCAoQXJyYXkuaXNBcnJheShjb2RlcykgJiYgY29kZXNbMF0pOyBpZiAodikgeyBpZiAobmF2aWdhdG9yLnZpYnJhdGUpIG5hdmlnYXRvci52aWJyYXRlKDUwKTsgb25EZXRlY3RlZChTdHJpbmcodikpOyBjbG9zZSgpOyByZXR1cm47IH0gfVxuICAgICAgc2V0RXJyb3IoXCLnlLvlg4/jgYvjgonjg5Djg7zjgrPjg7zjg4njgpLoqq3jgb/lj5bjgozjgb7jgZvjgpPjgafjgZfjgZ9cIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcihcIueUu+WDj+OBruWHpueQhuOBq+WkseaVl+OBl+OBvuOBl+OBn1wiKTtcbiAgICB9XG4gIH0sIFtjbG9zZSwgb25EZXRlY3RlZCwgcnVuRGV0ZWN0T25DYW52YXNdKTtcblxuICBjb25zdCBjYXB0dXJlQW5kRGV0ZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHYgPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGlmICghdikgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBzZXRCdXN5KHRydWUpO1xuICAgICAgY29uc3QgdncgPSB2LnZpZGVvV2lkdGggfHwgdi5jbGllbnRXaWR0aCB8fCAwO1xuICAgICAgY29uc3QgdmggPSB2LnZpZGVvSGVpZ2h0IHx8IHYuY2xpZW50SGVpZ2h0IHx8IDA7XG4gICAgICBpZiAoIXZ3IHx8ICF2aCkgdGhyb3cgbmV3IEVycm9yKFwibm8gdmlkZW8gZnJhbWVcIik7XG4gICAgICAvLyBST0k6IGluc2V0IDIwJSB0b3AvYm90dG9tLCAxMCUgbGVmdC9yaWdodFxuICAgICAgY29uc3QgcnggPSAwLjEgKiB2dywgcnkgPSAwLjIgKiB2aCwgcncgPSAwLjggKiB2dywgcmggPSAwLjYgKiB2aDtcbiAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKE1hdGgubWF4KHJ3LCByaCkgPCA5MDAgPyA5MDAgLyBNYXRoLm1heChydywgcmgpIDogMSkpO1xuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQocncgKiBzY2FsZSk7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChyaCAqIHNjYWxlKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAoY3R4IGFzIGFueSkuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSkgY29udHJhc3QoMTI1JSlcIjtcbiAgICAgIGN0eC5kcmF3SW1hZ2UodiwgcngsIHJ5LCBydywgcmgsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIC8vIEZyZWV6ZSBwcmV2aWV3IHdpdGggc25hcHNob3RcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJsb2I6IEJsb2IgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gY2FudmFzLnRvQmxvYigoYikgPT4gcmVzb2x2ZShiIGFzIEJsb2IpLCBcImltYWdlL3BuZ1wiKSk7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHNldFNuYXBzaG90VXJsKHVybCk7XG4gICAgICAgIHNldEZyb3plbih0cnVlKTtcbiAgICAgICAgdHJ5IHsgdi5wYXVzZSgpOyB9IGNhdGNoIHt9XG4gICAgICB9IGNhdGNoIHt9XG5cbiAgICAgIGNvbnN0IHZhbCA9IGF3YWl0IHJ1bkRldGVjdE9uQ2FudmFzKGNhbnZhcyk7XG4gICAgICBpZiAodmFsKSB7IGlmIChuYXZpZ2F0b3IudmlicmF0ZSkgbmF2aWdhdG9yLnZpYnJhdGUoNTApOyBvbkRldGVjdGVkKHZhbCk7IGNsb3NlKCk7IHJldHVybjsgfVxuICAgICAgc2V0RXJyb3IoXCLoqo3orZjjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ/jgILmnqDlhoXjgaflho3mkq7lvbHjgZfjgabjgY/jgaDjgZXjgYTjgIJcIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcihcIuODleODrOODvOODoOOBruWPluW+l+OBq+WkseaVl+OBl+OBvuOBl+OBn1wiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0QnVzeShmYWxzZSk7XG4gICAgfVxuICB9LCBbY2xvc2UsIG9uRGV0ZWN0ZWQsIHJ1bkRldGVjdE9uQ2FudmFzXSk7XG5cbiAgY29uc3QgcmV0cnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RnJvemVuKGZhbHNlKTtcbiAgICBpZiAoc25hcHNob3RVcmwpIHsgdHJ5IHsgVVJMLnJldm9rZU9iamVjdFVSTChzbmFwc2hvdFVybCk7IH0gY2F0Y2gge30gfVxuICAgIHNldFNuYXBzaG90VXJsKG51bGwpO1xuICAgIGNvbnN0IHYgPSB2aWRlb1JlZi5jdXJyZW50OyBpZiAodikgeyB0cnkgeyB2LnBsYXkoKTsgfSBjYXRjaCB7fSB9XG4gICAgc2V0RXJyb3IoXCJcIik7XG4gIH0sIFtzbmFwc2hvdFVybF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17b3ZlcmxheVN0eWxlfT5cbiAgICAgIDxkaXYgc3R5bGU9e2NvbnRhaW5lclN0eWxlfT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBtYXJnaW5Cb3R0b206IDggfX0+XG4gICAgICAgICAgPHN0cm9uZz7jg5Djg7zjgrPjg7zjg4njgpLmnqDjgavlkIjjgo/jgZvjgabjgY/jgaDjgZXjgYQ8L3N0cm9uZz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2Nsb3NlfT7plonjgZjjgos8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtlcnJvciAmJiA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiNjMDBcIiwgbWFyZ2luQm90dG9tOiA4IH19PntlcnJvcn08L2Rpdj59XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgd2lkdGg6IFwiMTAwJVwiLCBhc3BlY3RSYXRpbzogXCIzLzRcIiwgYmFja2dyb3VuZDogXCIjMDAwXCIsIGJvcmRlclJhZGl1czogOCwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfX0+XG4gICAgICAgICAgeyFmcm96ZW4gJiYgPHZpZGVvIHJlZj17dmlkZW9SZWZ9IHBsYXlzSW5saW5lIG11dGVkIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb2JqZWN0Rml0OiBcImNvdmVyXCIgfX0gLz59XG4gICAgICAgICAge2Zyb3plbiAmJiBzbmFwc2hvdFVybCAmJiAoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQG5leHQvbmV4dC9uby1pbWctZWxlbWVudFxuICAgICAgICAgICAgPGltZyBzcmM9e3NuYXBzaG90VXJsfSBhbHQ9XCJzbmFwc2hvdFwiIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb2JqZWN0Rml0OiBcImNvdmVyXCIgfX0gLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgc3R5bGU9e2ZyYW1lU3R5bGV9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMTIsIGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDgsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGZsZXhXcmFwOiBcIndyYXBcIiB9fT5cbiAgICAgICAgICB7IWZyb3plbiA/IChcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2FwdHVyZUFuZERldGVjdH0gZGlzYWJsZWQ9e2J1c3l9IHN0eWxlPXt7IGhlaWdodDogMzYsIHBhZGRpbmc6IFwiMCAxMnB4XCIsIGJvcmRlclJhZGl1czogOCwgYm9yZGVyOiBcIjFweCBzb2xpZCAjMGVhNWU5XCIsIGJhY2tncm91bmQ6IFwiI2UwZjJmZVwiLCBjb2xvcjogXCIjMDc1OTg1XCIgfX0+XG4gICAgICAgICAgICAgIHtidXN5ID8gXCLop6PmnpDkuK0uLi5cIiA6IFwi5pKu5b2x44GX44Gm6Kqt44G/5Y+W44KLXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZXRyeX0gc3R5bGU9e3sgaGVpZ2h0OiAzNiwgcGFkZGluZzogXCIwIDEycHhcIiwgYm9yZGVyUmFkaXVzOiA4LCBib3JkZXI6IFwiMXB4IHNvbGlkICMzMzQxNTVcIiwgYmFja2dyb3VuZDogXCIjZjFmNWY5XCIsIGNvbG9yOiBcIiMwZjE3MmFcIiB9fT7jgoTjgornm7TjgZk8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiIH19PlxuICAgICAgICAgICAg55S75YOP44GL44KJ6Kqt44G/5Y+W44KLOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIG9uQ2hhbmdlPXtvblBpY2tJbWFnZX0gc3R5bGU9e3sgZGlzcGxheTogXCJibG9ja1wiLCBtYXJnaW5Ub3A6IDYgfX0gLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIHtkZXZpY2VzLmxlbmd0aCA+IDEgJiYgKFxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZ2FwOiA2IH19PlxuICAgICAgICAgICAgICDjgqvjg6Hjg6k6XG4gICAgICAgICAgICAgIDxzZWxlY3QgdmFsdWU9e2RldmljZUlkfSBvbkNoYW5nZT17KGUpID0+IHsgY29uc3QgaWQgPSBlLnRhcmdldC52YWx1ZSB8fCB1bmRlZmluZWQ7IHNldERldmljZUlkKGlkKTsgc3RhcnRTdHJlYW0oaWQpOyB9fSBzdHlsZT17eyBwYWRkaW5nOiBcIjRweCA4cHhcIiB9fT5cbiAgICAgICAgICAgICAgICB7ZGV2aWNlcy5tYXAoKGQpID0+IChcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtkLmRldmljZUlkfSB2YWx1ZT17ZC5kZXZpY2VJZH0+e2QubGFiZWwgfHwgYENhbWVyYSAke2QuZGV2aWNlSWQuc2xpY2UoMCwgNCl9YH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmNvbnN0IG92ZXJsYXlTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgcG9zaXRpb246IFwiZml4ZWRcIiwgaW5zZXQ6IDAsIGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjUpXCIsIGRpc3BsYXk6IFwiZ3JpZFwiLCBwbGFjZUl0ZW1zOiBcImNlbnRlclwiLCB6SW5kZXg6IDEwMDAsIHBhZGRpbmc6IDE2IH07XG5jb25zdCBjb250YWluZXJTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgd2lkdGg6IFwibWluKDQ4MHB4LCAxMDAlKVwiLCBiYWNrZ3JvdW5kOiBcIiNmZmZcIiwgcGFkZGluZzogMTIsIGJvcmRlclJhZGl1czogMTAgfTtcbmNvbnN0IGZyYW1lU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGluc2V0OiBcIjIwJSAxMCVcIiwgYm9yZGVyOiBcIjJweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIiwgYm9yZGVyUmFkaXVzOiA4LCBib3hTaGFkb3c6IFwiMCAwIDAgOTk5OXB4IHJnYmEoMCwwLDAsMC4yNSkgaW5zZXRcIiwgcG9pbnRlckV2ZW50czogXCJub25lXCIgfTtcblxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJBUElfQkFTRSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfQkFTRV9VUkwiLCJGT1JNQVRTIiwiQmFyY29kZVNjYW5uZXIiLCJvbkRldGVjdGVkIiwib25DbG9zZSIsInZpZGVvUmVmIiwic3RyZWFtUmVmIiwiZGV0ZWN0b3JSZWYiLCJlcnJvciIsInNldEVycm9yIiwiYnVzeSIsInNldEJ1c3kiLCJmcm96ZW4iLCJzZXRGcm96ZW4iLCJzbmFwc2hvdFVybCIsInNldFNuYXBzaG90VXJsIiwiZGV2aWNlcyIsInNldERldmljZXMiLCJkZXZpY2VJZCIsInNldERldmljZUlkIiwidW5kZWZpbmVkIiwic3RvcCIsImN1cnJlbnQiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidCIsInBhdXNlIiwic3JjT2JqZWN0IiwiY2xvc2UiLCJzdGFydFN0cmVhbSIsInNlbGVjdGVkSWQiLCJjb25zdHJhaW50cyIsInZpZGVvIiwiZmFjaW5nTW9kZSIsImlkZWFsIiwid2lkdGgiLCJoZWlnaHQiLCJleGFjdCIsImF1ZGlvIiwic3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwicGxheSIsImVyciIsIm5hbWUiLCJ3aW5kb3ciLCJCYXJjb2RlRGV0ZWN0b3IiLCJmb3JtYXRzIiwiZSIsImNvbnNvbGUiLCJtb3VudGVkIiwiY2FtcyIsImxpc3QiLCJlbnVtZXJhdGVEZXZpY2VzIiwiZmlsdGVyIiwiZCIsImtpbmQiLCJwcmVmZXJyZWQiLCJmaW5kIiwidGVzdCIsImxhYmVsIiwiaWQiLCJydW5EZXRlY3RPbkNhbnZhcyIsImNhbnZhcyIsImRldCIsInJlcyIsImRldGVjdCIsImxlbmd0aCIsInJhd1ZhbHVlIiwiU3RyaW5nIiwiQnJvd3Nlck11bHRpRm9ybWF0UmVhZGVyIiwicmVhZGVyIiwiYmxvYiIsInJlamVjdCIsInRvQmxvYiIsImIiLCJFcnJvciIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJlc3VsdCIsImRlY29kZUZyb21JbWFnZVVybCIsInZhbCIsImdldFRleHQiLCJ0ZXh0IiwicmV2b2tlT2JqZWN0VVJMIiwicmVzZXQiLCJvblBpY2tJbWFnZSIsImV2IiwiZiIsInRhcmdldCIsImZpbGVzIiwiYm1wIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJtYXhTaWRlIiwiTWF0aCIsIm1heCIsInNjYWxlIiwiY2VpbCIsInciLCJoIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImRyYXdJbWFnZSIsInZpYnJhdGUiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiciIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIm9rIiwiY29kZSIsImNvZGVzIiwianNvbiIsIkFycmF5IiwiaXNBcnJheSIsImNhcHR1cmVBbmREZXRlY3QiLCJ2dyIsInZpZGVvV2lkdGgiLCJjbGllbnRXaWR0aCIsInZoIiwidmlkZW9IZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJyeCIsInJ5IiwicnciLCJyaCIsInJvdW5kIiwicmV0cnkiLCJkaXYiLCJzdHlsZSIsIm92ZXJsYXlTdHlsZSIsImNvbnRhaW5lclN0eWxlIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIm1hcmdpbkJvdHRvbSIsInN0cm9uZyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjb2xvciIsInBvc2l0aW9uIiwiYXNwZWN0UmF0aW8iLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJyZWYiLCJwbGF5c0lubGluZSIsIm11dGVkIiwib2JqZWN0Rml0IiwiaW1nIiwic3JjIiwiYWx0IiwiZnJhbWVTdHlsZSIsIm1hcmdpblRvcCIsImdhcCIsImZsZXhXcmFwIiwiZGlzYWJsZWQiLCJwYWRkaW5nIiwiYm9yZGVyIiwiaW5wdXQiLCJ0eXBlIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJzZWxlY3QiLCJ2YWx1ZSIsIm1hcCIsIm9wdGlvbiIsInNsaWNlIiwiaW5zZXQiLCJwbGFjZUl0ZW1zIiwiekluZGV4IiwiYm94U2hhZG93IiwicG9pbnRlckV2ZW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BarcodeScanner.tsx\n"));

/***/ })

});