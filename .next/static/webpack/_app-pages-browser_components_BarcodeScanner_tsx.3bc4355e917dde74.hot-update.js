"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_BarcodeScanner_tsx",{

/***/ "(app-pages-browser)/./components/BarcodeScanner.tsx":
/*!***************************************!*\
  !*** ./components/BarcodeScanner.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BarcodeScanner; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://127.0.0.1:8000\";\nconst FORMATS = [\n    \"ean_13\",\n    \"ean_8\",\n    \"upc_a\",\n    \"code_128\",\n    \"code_39\",\n    \"itf\"\n];\nfunction BarcodeScanner(param) {\n    let { onDetected, onClose } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const detectorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [frozen, setFrozen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [snapshotUrl, setSnapshotUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [devices, setDevices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [deviceId, setDeviceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const stop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (streamRef.current) {\n            try {\n                streamRef.current.getTracks().forEach((t)=>t.stop());\n            } catch (e) {}\n            streamRef.current = null;\n        }\n        if (videoRef.current) {\n            try {\n                videoRef.current.pause();\n            } catch (e) {}\n            // @ts-expect-error clear srcObject\n            try {\n                videoRef.current.srcObject = null;\n            } catch (e) {}\n        }\n    }, []);\n    const close = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        stop();\n        onClose();\n    }, [\n        onClose,\n        stop\n    ]);\n    const startStream = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (selectedId)=>{\n        setError(\"\");\n        try {\n            if (streamRef.current) {\n                streamRef.current.getTracks().forEach((t)=>t.stop());\n                streamRef.current = null;\n            }\n            const constraints = {\n                video: {\n                    facingMode: {\n                        ideal: \"environment\"\n                    },\n                    width: {\n                        ideal: 1920\n                    },\n                    height: {\n                        ideal: 1080\n                    },\n                    ...selectedId ? {\n                        deviceId: {\n                            exact: selectedId\n                        }\n                    } : {}\n                },\n                audio: false\n            };\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            streamRef.current = stream;\n            const v = videoRef.current;\n            if (v) {\n                // @ts-expect-error assign stream\n                v.srcObject = stream;\n                await new Promise((resolve)=>{\n                    if (v.readyState >= 2) resolve();\n                    else v.addEventListener(\"loadedmetadata\", ()=>resolve(), {\n                        once: true\n                    });\n                });\n                try {\n                    await v.play();\n                } catch (err) {\n                    if (!(err && err.name === \"AbortError\")) throw err;\n                }\n            }\n            if (\"BarcodeDetector\" in window) {\n                detectorRef.current = new window.BarcodeDetector({\n                    formats: FORMATS\n                });\n            }\n        } catch (e) {\n            console.error(e);\n            setError(\"カメラを起動できませんでした。画像から読み取りに切り替えます。\");\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                var _cams_;\n                const list = await navigator.mediaDevices.enumerateDevices();\n                const cams = list.filter((d)=>d.kind === \"videoinput\");\n                if (!mounted) return;\n                setDevices(cams);\n                const preferred = cams.find((d)=>/back|environment|rear/i.test(d.label));\n                const id = deviceId || (preferred === null || preferred === void 0 ? void 0 : preferred.deviceId) || ((_cams_ = cams[0]) === null || _cams_ === void 0 ? void 0 : _cams_.deviceId);\n                setDeviceId(id);\n                await startStream(id);\n            } catch (e) {\n                await startStream(undefined);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n            stop();\n        };\n    }, [\n        startStream,\n        stop\n    ]);\n    const runDetectOnCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (canvas)=>{\n        if (\"BarcodeDetector\" in window) {\n            try {\n                const det = detectorRef.current || new window.BarcodeDetector({\n                    formats: FORMATS\n                });\n                detectorRef.current = det;\n                const res = await det.detect(canvas);\n                if (res && res.length > 0 && res[0].rawValue) return String(res[0].rawValue);\n            } catch (e) {}\n        }\n        try {\n            const { BrowserMultiFormatReader } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_zxing_browser_esm_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! @zxing/browser */ \"(app-pages-browser)/./node_modules/@zxing/browser/esm/index.js\"));\n            const reader = new BrowserMultiFormatReader();\n            const blob = await new Promise((resolve, reject)=>canvas.toBlob((b)=>b ? resolve(b) : reject(new Error(\"toBlob failed\")), \"image/png\"));\n            const url = URL.createObjectURL(blob);\n            try {\n                var _result_getText;\n                const result = await reader.decodeFromImageUrl(url);\n                const val = result && (((_result_getText = result.getText) === null || _result_getText === void 0 ? void 0 : _result_getText.call(result)) || result.text);\n                if (val) return String(val);\n            } finally{\n                URL.revokeObjectURL(url);\n                reader.reset();\n            }\n        } catch (e) {}\n        return null;\n    }, []);\n    const onPickImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (ev)=>{\n        var _ev_target_files;\n        const f = (_ev_target_files = ev.target.files) === null || _ev_target_files === void 0 ? void 0 : _ev_target_files[0];\n        if (!f) return;\n        try {\n            const bmp = await createImageBitmap(f);\n            const maxSide = Math.max(bmp.width, bmp.height);\n            const scale = maxSide < 900 ? Math.ceil(900 / maxSide) : 1;\n            const w = bmp.width * scale;\n            const h = bmp.height * scale;\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.imageSmoothingEnabled = true;\n            ctx.filter = \"grayscale(100%) contrast(125%)\";\n            ctx.drawImage(bmp, 0, 0, w, h);\n            const val = await runDetectOnCanvas(canvas);\n            if (val) {\n                if (navigator.vibrate) navigator.vibrate(50);\n                onDetected(val);\n                close();\n                return;\n            }\n            const fd = new FormData();\n            fd.append(\"file\", f);\n            const r = await fetch(\"\".concat(API_BASE, \"/api/scan\"), {\n                method: \"POST\",\n                body: fd\n            });\n            if (r.ok) {\n                const { code, codes } = await r.json();\n                const v = code || Array.isArray(codes) && codes[0];\n                if (v) {\n                    if (navigator.vibrate) navigator.vibrate(50);\n                    onDetected(String(v));\n                    close();\n                    return;\n                }\n            }\n            setError(\"画像からバーコードを読み取れませんでした\");\n        } catch (e) {\n            setError(\"画像の処理に失敗しました\");\n        }\n    }, [\n        close,\n        onDetected,\n        runDetectOnCanvas\n    ]);\n    const captureAndDetect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const v = videoRef.current;\n        if (!v) return;\n        try {\n            setBusy(true);\n            const vw = v.videoWidth || v.clientWidth || 0;\n            const vh = v.videoHeight || v.clientHeight || 0;\n            if (!vw || !vh) throw new Error(\"no video frame\");\n            // ROI: inset 20% top/bottom, 10% left/right\n            const rx = 0.1 * vw, ry = 0.2 * vh, rw = 0.8 * vw, rh = 0.6 * vh;\n            const scale = Math.max(1, Math.ceil(Math.max(rw, rh) < 900 ? 900 / Math.max(rw, rh) : 1));\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = Math.round(rw * scale);\n            canvas.height = Math.round(rh * scale);\n            const ctx = canvas.getContext(\"2d\");\n            ctx.imageSmoothingEnabled = true;\n            ctx.filter = \"grayscale(100%) contrast(125%)\";\n            ctx.drawImage(v, rx, ry, rw, rh, 0, 0, canvas.width, canvas.height);\n            // Freeze preview with snapshot\n            try {\n                const blob = await new Promise((resolve)=>canvas.toBlob((b)=>resolve(b), \"image/png\"));\n                const url = URL.createObjectURL(blob);\n                setSnapshotUrl(url);\n                setFrozen(true);\n                try {\n                    v.pause();\n                } catch (e) {}\n            } catch (e) {}\n            const val = await runDetectOnCanvas(canvas);\n            if (val) {\n                if (navigator.vibrate) navigator.vibrate(50);\n                onDetected(val);\n                close();\n                return;\n            }\n            setError(\"認識できませんでした。枠内で再撮影してください。\");\n        } catch (e) {\n            setError(\"フレームの取得に失敗しました\");\n        } finally{\n            setBusy(false);\n        }\n    }, [\n        close,\n        onDetected,\n        runDetectOnCanvas\n    ]);\n    const retry = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setFrozen(false);\n        if (snapshotUrl) {\n            try {\n                URL.revokeObjectURL(snapshotUrl);\n            } catch (e) {}\n        }\n        setSnapshotUrl(null);\n        const v = videoRef.current;\n        if (v) {\n            try {\n                v.play();\n            } catch (e) {}\n        }\n        setError(\"\");\n    }, [\n        snapshotUrl\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: overlayStyle,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: containerStyle,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        marginBottom: 8\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: \"バーコードを枠に合わせてください\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 197,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: close,\n                            children: \"閉じる\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 198,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 196,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"#c00\",\n                        marginBottom: 8\n                    },\n                    children: error\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 200,\n                    columnNumber: 19\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        position: \"relative\",\n                        width: \"100%\",\n                        aspectRatio: \"3/4\",\n                        background: \"#000\",\n                        borderRadius: 8,\n                        overflow: \"hidden\"\n                    },\n                    children: [\n                        !frozen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: videoRef,\n                            playsInline: true,\n                            muted: true,\n                            style: {\n                                width: \"100%\",\n                                height: \"100%\",\n                                objectFit: \"cover\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 202,\n                            columnNumber: 23\n                        }, this),\n                        frozen && snapshotUrl && // eslint-disable-next-line @next/next/no-img-element\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: snapshotUrl,\n                            alt: \"snapshot\",\n                            style: {\n                                width: \"100%\",\n                                height: \"100%\",\n                                objectFit: \"cover\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 205,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: frameStyle\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 207,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 201,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: 12,\n                        display: \"flex\",\n                        gap: 8,\n                        alignItems: \"center\",\n                        flexWrap: \"wrap\"\n                    },\n                    children: [\n                        !frozen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: captureAndDetect,\n                            disabled: busy,\n                            style: {\n                                height: 36,\n                                padding: \"0 12px\",\n                                borderRadius: 8,\n                                border: \"1px solid #0ea5e9\",\n                                background: \"#e0f2fe\",\n                                color: \"#075985\"\n                            },\n                            children: busy ? \"解析中...\" : \"撮影して読み取る\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 211,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: retry,\n                            style: {\n                                height: 36,\n                                padding: \"0 12px\",\n                                borderRadius: 8,\n                                border: \"1px solid #334155\",\n                                background: \"#f1f5f9\",\n                                color: \"#0f172a\"\n                            },\n                            children: \"やり直す\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            style: {\n                                display: \"inline-block\"\n                            },\n                            children: [\n                                \"画像から読み取る:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    accept: \"image/*\",\n                                    onChange: onPickImage,\n                                    style: {\n                                        display: \"block\",\n                                        marginTop: 6\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 217,\n                            columnNumber: 11\n                        }, this),\n                        devices.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            style: {\n                                display: \"inline-flex\",\n                                alignItems: \"center\",\n                                gap: 6\n                            },\n                            children: [\n                                \"カメラ:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: deviceId,\n                                    onChange: (e)=>{\n                                        const id = e.target.value || undefined;\n                                        setDeviceId(id);\n                                        startStream(id);\n                                    },\n                                    style: {\n                                        padding: \"4px 8px\"\n                                    },\n                                    children: devices.map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: d.deviceId,\n                                            children: d.label || \"Camera \".concat(d.deviceId.slice(0, 4))\n                                        }, d.deviceId, false, {\n                                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                            lineNumber: 226,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                    lineNumber: 224,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n            lineNumber: 195,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n        lineNumber: 194,\n        columnNumber: 5\n    }, this);\n}\n_s(BarcodeScanner, \"kBDCA9Rkz9FmVnFBsbGIZLq97t8=\");\n_c = BarcodeScanner;\nconst overlayStyle = {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.5)\",\n    display: \"grid\",\n    placeItems: \"center\",\n    zIndex: 1000,\n    padding: 16\n};\nconst containerStyle = {\n    width: \"min(480px, 100%)\",\n    background: \"#fff\",\n    padding: 12,\n    borderRadius: 10\n};\nconst frameStyle = {\n    position: \"absolute\",\n    inset: \"20% 10%\",\n    border: \"2px solid rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    boxShadow: \"0 0 0 9999px rgba(0,0,0,0.25) inset\",\n    pointerEvents: \"none\"\n};\nvar _c;\n$RefreshReg$(_c, \"BarcodeScanner\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQmFyY29kZVNjYW5uZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFaUU7QUFTakUsTUFBTUksV0FBV0MsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSTtBQUN6RCxNQUFNQyxVQUFVO0lBQUM7SUFBVTtJQUFTO0lBQVM7SUFBWTtJQUFXO0NBQU07QUFFM0QsU0FBU0MsZUFBZSxLQUE4QjtRQUE5QixFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBUyxHQUE5Qjs7SUFDckMsTUFBTUMsV0FBV1YsNkNBQU1BLENBQTBCO0lBQ2pELE1BQU1XLFlBQVlYLDZDQUFNQSxDQUFxQjtJQUM3QyxNQUFNWSxjQUFjWiw2Q0FBTUEsQ0FBYTtJQUN2QyxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2IsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDYyxNQUFNQyxRQUFRLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ2dCLFFBQVFDLFVBQVUsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2tCLGFBQWFDLGVBQWUsR0FBR25CLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUNvQixTQUFTQyxXQUFXLEdBQUdyQiwrQ0FBUUEsQ0FBb0IsRUFBRTtJQUM1RCxNQUFNLENBQUNzQixVQUFVQyxZQUFZLEdBQUd2QiwrQ0FBUUEsQ0FBcUJ3QjtJQUU3RCxNQUFNQyxPQUFPNUIsa0RBQVdBLENBQUM7UUFDdkIsSUFBSWEsVUFBVWdCLE9BQU8sRUFBRTtZQUNyQixJQUFJO2dCQUFFaEIsVUFBVWdCLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHQyxPQUFPLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUosSUFBSTtZQUFLLEVBQUUsVUFBTSxDQUFDO1lBQ3ZFZixVQUFVZ0IsT0FBTyxHQUFHO1FBQ3RCO1FBQ0EsSUFBSWpCLFNBQVNpQixPQUFPLEVBQUU7WUFDcEIsSUFBSTtnQkFBRWpCLFNBQVNp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SUFBUzRCLE9BQU87SUFBRzFCLFlBQVk7SUFBbUJWLFNBQVM7SUFBUXFDLFlBQVk7SUFBVUMsUUFBUTtJQUFNYixTQUFTO0FBQUc7QUFDekssTUFBTTFCLGlCQUFzQztJQUFFN0csT0FBTztJQUFvQndILFlBQVk7SUFBUWUsU0FBUztJQUFJZCxjQUFjO0FBQUc7QUFDM0gsTUFBTVMsYUFBa0M7SUFBRVosVUFBVTtJQUFZNEIsT0FBTztJQUFXVixRQUFRO0lBQW1DZixjQUFjO0lBQUc0QixXQUFXO0lBQXVDQyxlQUFlO0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9CYXJjb2RlU2Nhbm5lci50c3g/Yzc4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIFByb3BzID0ge1xuICBvbkRldGVjdGVkOiAoY29kZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufTtcblxuZGVjbGFyZSBnbG9iYWwgeyBpbnRlcmZhY2UgV2luZG93IHsgQmFyY29kZURldGVjdG9yPzogYW55IH0gfVxuXG5jb25zdCBBUElfQkFTRSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9CQVNFX1VSTCB8fCBcImh0dHA6Ly8xMjcuMC4wLjE6ODAwMFwiO1xuY29uc3QgRk9STUFUUyA9IFtcImVhbl8xM1wiLCBcImVhbl84XCIsIFwidXBjX2FcIiwgXCJjb2RlXzEyOFwiLCBcImNvZGVfMzlcIiwgXCJpdGZcIl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhcmNvZGVTY2FubmVyKHsgb25EZXRlY3RlZCwgb25DbG9zZSB9OiBQcm9wcyk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzdHJlYW1SZWYgPSB1c2VSZWY8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgZGV0ZWN0b3JSZWYgPSB1c2VSZWY8YW55IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtidXN5LCBzZXRCdXN5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Zyb3plbiwgc2V0RnJvemVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NuYXBzaG90VXJsLCBzZXRTbmFwc2hvdFVybF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RldmljZXMsIHNldERldmljZXNdID0gdXNlU3RhdGU8TWVkaWFEZXZpY2VJbmZvW10+KFtdKTtcbiAgY29uc3QgW2RldmljZUlkLCBzZXREZXZpY2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbiAgY29uc3Qgc3RvcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc3RyZWFtUmVmLmN1cnJlbnQpIHtcbiAgICAgIHRyeSB7IHN0cmVhbVJlZi5jdXJyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHQuc3RvcCgpKTsgfSBjYXRjaCB7fVxuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdHJ5IHsgdmlkZW9SZWYuY3VycmVudC5wYXVzZSgpOyB9IGNhdGNoIHt9XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNsZWFyIHNyY09iamVjdFxuICAgICAgdHJ5IHsgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsOyB9IGNhdGNoIHt9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgY2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHN0b3AoKTsgb25DbG9zZSgpOyB9LCBbb25DbG9zZSwgc3RvcF0pO1xuXG4gIGNvbnN0IHN0YXJ0U3RyZWFtID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlbGVjdGVkSWQ/OiBzdHJpbmcpID0+IHtcbiAgICBzZXRFcnJvcihcIlwiKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHN0cmVhbVJlZi5jdXJyZW50KSB7IHN0cmVhbVJlZi5jdXJyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHQuc3RvcCgpKTsgc3RyZWFtUmVmLmN1cnJlbnQgPSBudWxsOyB9XG4gICAgICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICBmYWNpbmdNb2RlOiB7IGlkZWFsOiBcImVudmlyb25tZW50XCIgfSxcbiAgICAgICAgICB3aWR0aDogeyBpZGVhbDogMTkyMCB9LFxuICAgICAgICAgIGhlaWdodDogeyBpZGVhbDogMTA4MCB9LFxuICAgICAgICAgIC4uLihzZWxlY3RlZElkID8geyBkZXZpY2VJZDogeyBleGFjdDogc2VsZWN0ZWRJZCB9IH0gOiB7fSksXG4gICAgICAgIH0gYXMgYW55LFxuICAgICAgICBhdWRpbzogZmFsc2UsXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBzdHJlYW07XG4gICAgICBjb25zdCB2ID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgIGlmICh2KSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYXNzaWduIHN0cmVhbVxuICAgICAgICB2LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICBpZiAoKHYgYXMgYW55KS5yZWFkeVN0YXRlID49IDIpIHJlc29sdmUoKTtcbiAgICAgICAgICBlbHNlIHYuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsICgpID0+IHJlc29sdmUoKSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHsgYXdhaXQgdi5wbGF5KCk7IH0gY2F0Y2ggKGVycjogYW55KSB7IGlmICghKGVyciAmJiBlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpKSB0aHJvdyBlcnI7IH1cbiAgICAgIH1cbiAgICAgIGlmIChcIkJhcmNvZGVEZXRlY3RvclwiIGluIHdpbmRvdykge1xuICAgICAgICBkZXRlY3RvclJlZi5jdXJyZW50ID0gbmV3ICh3aW5kb3cgYXMgYW55KS5CYXJjb2RlRGV0ZWN0b3IoeyBmb3JtYXRzOiBGT1JNQVRTIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBzZXRFcnJvcihcIuOCq+ODoeODqeOCkui1t+WLleOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn+OAgueUu+WDj+OBi+OCieiqreOBv+WPluOCiuOBq+WIh+OCiuabv+OBiOOBvuOBmeOAglwiKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgICAgICBjb25zdCBjYW1zID0gbGlzdC5maWx0ZXIoKGQpID0+IGQua2luZCA9PT0gXCJ2aWRlb2lucHV0XCIpO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgc2V0RGV2aWNlcyhjYW1zKTtcbiAgICAgICAgY29uc3QgcHJlZmVycmVkID0gY2Ftcy5maW5kKChkKSA9PiAvYmFja3xlbnZpcm9ubWVudHxyZWFyL2kudGVzdChkLmxhYmVsKSk7XG4gICAgICAgIGNvbnN0IGlkID0gZGV2aWNlSWQgfHwgcHJlZmVycmVkPy5kZXZpY2VJZCB8fCBjYW1zWzBdPy5kZXZpY2VJZDtcbiAgICAgICAgc2V0RGV2aWNlSWQoaWQpO1xuICAgICAgICBhd2FpdCBzdGFydFN0cmVhbShpZCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgYXdhaXQgc3RhcnRTdHJlYW0odW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgc3RvcCgpOyB9O1xuICB9LCBbc3RhcnRTdHJlYW0sIHN0b3BdKTtcblxuICBjb25zdCBydW5EZXRlY3RPbkNhbnZhcyA9IHVzZUNhbGxiYWNrKGFzeW5jIChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSA9PiB7XG4gICAgaWYgKFwiQmFyY29kZURldGVjdG9yXCIgaW4gd2luZG93KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZXQgPSBkZXRlY3RvclJlZi5jdXJyZW50IHx8IG5ldyAod2luZG93IGFzIGFueSkuQmFyY29kZURldGVjdG9yKHsgZm9ybWF0czogRk9STUFUUyB9KTtcbiAgICAgICAgZGV0ZWN0b3JSZWYuY3VycmVudCA9IGRldDtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGV0LmRldGVjdChjYW52YXMgYXMgdW5rbm93biBhcyBDYW52YXNJbWFnZVNvdXJjZSk7XG4gICAgICAgIGlmIChyZXMgJiYgcmVzLmxlbmd0aCA+IDAgJiYgcmVzWzBdLnJhd1ZhbHVlKSByZXR1cm4gU3RyaW5nKHJlc1swXS5yYXdWYWx1ZSk7XG4gICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgQnJvd3Nlck11bHRpRm9ybWF0UmVhZGVyIH0gPSBhd2FpdCBpbXBvcnQoXCJAenhpbmcvYnJvd3NlclwiKTtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIoKTtcbiAgICAgIGNvbnN0IGJsb2I6IEJsb2IgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBjYW52YXMudG9CbG9iKChiKSA9PiAoYiA/IHJlc29sdmUoYikgOiByZWplY3QobmV3IEVycm9yKFwidG9CbG9iIGZhaWxlZFwiKSkpLCBcImltYWdlL3BuZ1wiKSk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCByZWFkZXIuZGVjb2RlRnJvbUltYWdlVXJsKHVybCk7XG4gICAgICAgIGNvbnN0IHZhbCA9IChyZXN1bHQgJiYgKHJlc3VsdC5nZXRUZXh0Py4oKSB8fCByZXN1bHQudGV4dCkpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHZhbCkgcmV0dXJuIFN0cmluZyh2YWwpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICByZWFkZXIucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9uUGlja0ltYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGV2OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGYgPSBldi50YXJnZXQuZmlsZXM/LlswXTtcbiAgICBpZiAoIWYpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYm1wID0gYXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoZik7XG4gICAgICBjb25zdCBtYXhTaWRlID0gTWF0aC5tYXgoYm1wLndpZHRoLCBibXAuaGVpZ2h0KTtcbiAgICAgIGNvbnN0IHNjYWxlID0gbWF4U2lkZSA8IDkwMCA/IE1hdGguY2VpbCg5MDAgLyBtYXhTaWRlKSA6IDE7XG4gICAgICBjb25zdCB3ID0gYm1wLndpZHRoICogc2NhbGU7XG4gICAgICBjb25zdCBoID0gYm1wLmhlaWdodCAqIHNjYWxlO1xuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHc7IGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG4gICAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgIChjdHggYXMgYW55KS5maWx0ZXIgPSBcImdyYXlzY2FsZSgxMDAlKSBjb250cmFzdCgxMjUlKVwiO1xuICAgICAgY3R4LmRyYXdJbWFnZShibXAsIDAsIDAsIHcsIGgpO1xuXG4gICAgICBjb25zdCB2YWwgPSBhd2FpdCBydW5EZXRlY3RPbkNhbnZhcyhjYW52YXMpO1xuICAgICAgaWYgKHZhbCkgeyBpZiAobmF2aWdhdG9yLnZpYnJhdGUpIG5hdmlnYXRvci52aWJyYXRlKDUwKTsgb25EZXRlY3RlZCh2YWwpOyBjbG9zZSgpOyByZXR1cm47IH1cblxuICAgICAgY29uc3QgZmQgPSBuZXcgRm9ybURhdGEoKTsgZmQuYXBwZW5kKFwiZmlsZVwiLCBmKTtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRX0vYXBpL3NjYW5gLCB7IG1ldGhvZDogXCJQT1NUXCIsIGJvZHk6IGZkIH0pO1xuICAgICAgaWYgKHIub2spIHsgY29uc3QgeyBjb2RlLCBjb2RlcyB9ID0gYXdhaXQgci5qc29uKCk7IGNvbnN0IHYgPSBjb2RlIHx8IChBcnJheS5pc0FycmF5KGNvZGVzKSAmJiBjb2Rlc1swXSk7IGlmICh2KSB7IGlmIChuYXZpZ2F0b3IudmlicmF0ZSkgbmF2aWdhdG9yLnZpYnJhdGUoNTApOyBvbkRldGVjdGVkKFN0cmluZyh2KSk7IGNsb3NlKCk7IHJldHVybjsgfSB9XG4gICAgICBzZXRFcnJvcihcIueUu+WDj+OBi+OCieODkOODvOOCs+ODvOODieOCkuiqreOBv+WPluOCjOOBvuOBm+OCk+OBp+OBl+OBn1wiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHNldEVycm9yKFwi55S75YOP44Gu5Yem55CG44Gr5aSx5pWX44GX44G+44GX44GfXCIpO1xuICAgIH1cbiAgfSwgW2Nsb3NlLCBvbkRldGVjdGVkLCBydW5EZXRlY3RPbkNhbnZhc10pO1xuXG4gIGNvbnN0IGNhcHR1cmVBbmREZXRlY3QgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdiA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCF2KSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIHNldEJ1c3kodHJ1ZSk7XG4gICAgICBjb25zdCB2dyA9IHYudmlkZW9XaWR0aCB8fCB2LmNsaWVudFdpZHRoIHx8IDA7XG4gICAgICBjb25zdCB2aCA9IHYudmlkZW9IZWlnaHQgfHwgdi5jbGllbnRIZWlnaHQgfHwgMDtcbiAgICAgIGlmICghdncgfHwgIXZoKSB0aHJvdyBuZXcgRXJyb3IoXCJubyB2aWRlbyBmcmFtZVwiKTtcbiAgICAgIC8vIFJPSTogaW5zZXQgMjAlIHRvcC9ib3R0b20sIDEwJSBsZWZ0L3JpZ2h0XG4gICAgICBjb25zdCByeCA9IDAuMSAqIHZ3LCByeSA9IDAuMiAqIHZoLCBydyA9IDAuOCAqIHZ3LCByaCA9IDAuNiAqIHZoO1xuICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoTWF0aC5tYXgocncsIHJoKSA8IDkwMCA/IDkwMCAvIE1hdGgubWF4KHJ3LCByaCkgOiAxKSk7XG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5yb3VuZChydyAqIHNjYWxlKTtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKHJoICogc2NhbGUpO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG4gICAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgIChjdHggYXMgYW55KS5maWx0ZXIgPSBcImdyYXlzY2FsZSgxMDAlKSBjb250cmFzdCgxMjUlKVwiO1xuICAgICAgY3R4LmRyYXdJbWFnZSh2LCByeCwgcnksIHJ3LCByaCwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgLy8gRnJlZXplIHByZXZpZXcgd2l0aCBzbmFwc2hvdFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmxvYjogQmxvYiA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBjYW52YXMudG9CbG9iKChiKSA9PiByZXNvbHZlKGIgYXMgQmxvYiksIFwiaW1hZ2UvcG5nXCIpKTtcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgc2V0U25hcHNob3RVcmwodXJsKTtcbiAgICAgICAgc2V0RnJvemVuKHRydWUpO1xuICAgICAgICB0cnkgeyB2LnBhdXNlKCk7IH0gY2F0Y2gge31cbiAgICAgIH0gY2F0Y2gge31cblxuICAgICAgY29uc3QgdmFsID0gYXdhaXQgcnVuRGV0ZWN0T25DYW52YXMoY2FudmFzKTtcbiAgICAgIGlmICh2YWwpIHsgaWYgKG5hdmlnYXRvci52aWJyYXRlKSBuYXZpZ2F0b3IudmlicmF0ZSg1MCk7IG9uRGV0ZWN0ZWQodmFsKTsgY2xvc2UoKTsgcmV0dXJuOyB9XG4gICAgICBzZXRFcnJvcihcIuiqjeitmOOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn+OAguaeoOWGheOBp+WGjeaSruW9seOBl+OBpuOBj+OBoOOBleOBhOOAglwiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHNldEVycm9yKFwi44OV44Os44O844Og44Gu5Y+W5b6X44Gr5aSx5pWX44GX44G+44GX44GfXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRCdXN5KGZhbHNlKTtcbiAgICB9XG4gIH0sIFtjbG9zZSwgb25EZXRlY3RlZCwgcnVuRGV0ZWN0T25DYW52YXNdKTtcblxuICBjb25zdCByZXRyeSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRGcm96ZW4oZmFsc2UpO1xuICAgIGlmIChzbmFwc2hvdFVybCkgeyB0cnkgeyBVUkwucmV2b2tlT2JqZWN0VVJMKHNuYXBzaG90VXJsKTsgfSBjYXRjaCB7fSB9XG4gICAgc2V0U25hcHNob3RVcmwobnVsbCk7XG4gICAgY29uc3QgdiA9IHZpZGVvUmVmLmN1cnJlbnQ7IGlmICh2KSB7IHRyeSB7IHYucGxheSgpOyB9IGNhdGNoIHt9IH1cbiAgICBzZXRFcnJvcihcIlwiKTtcbiAgfSwgW3NuYXBzaG90VXJsXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXtvdmVybGF5U3R5bGV9PlxuICAgICAgPGRpdiBzdHlsZT17Y29udGFpbmVyU3R5bGV9PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiLCBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIG1hcmdpbkJvdHRvbTogOCB9fT5cbiAgICAgICAgICA8c3Ryb25nPuODkOODvOOCs+ODvOODieOCkuaeoOOBq+WQiOOCj+OBm+OBpuOBj+OBoOOBleOBhDwvc3Ryb25nPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2xvc2V9PumWieOBmOOCizwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2Vycm9yICYmIDxkaXYgc3R5bGU9e3sgY29sb3I6IFwiI2MwMFwiLCBtYXJnaW5Cb3R0b206IDggfX0+e2Vycm9yfTwvZGl2Pn1cbiAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCB3aWR0aDogXCIxMDAlXCIsIGFzcGVjdFJhdGlvOiBcIjMvNFwiLCBiYWNrZ3JvdW5kOiBcIiMwMDBcIiwgYm9yZGVyUmFkaXVzOiA4LCBvdmVyZmxvdzogXCJoaWRkZW5cIiB9fT5cbiAgICAgICAgICB7IWZyb3plbiAmJiA8dmlkZW8gcmVmPXt2aWRlb1JlZn0gcGxheXNJbmxpbmUgbXV0ZWQgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBvYmplY3RGaXQ6IFwiY292ZXJcIiB9fSAvPn1cbiAgICAgICAgICB7ZnJvemVuICYmIHNuYXBzaG90VXJsICYmIChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAbmV4dC9uZXh0L25vLWltZy1lbGVtZW50XG4gICAgICAgICAgICA8aW1nIHNyYz17c25hcHNob3RVcmx9IGFsdD1cInNuYXBzaG90XCIgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBvYmplY3RGaXQ6IFwiY292ZXJcIiB9fSAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBzdHlsZT17ZnJhbWVTdHlsZX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMiwgZGlzcGxheTogXCJmbGV4XCIsIGdhcDogOCwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZmxleFdyYXA6IFwid3JhcFwiIH19PlxuICAgICAgICAgIHshZnJvemVuID8gKFxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtjYXB0dXJlQW5kRGV0ZWN0fSBkaXNhYmxlZD17YnVzeX0gc3R5bGU9e3sgaGVpZ2h0OiAzNiwgcGFkZGluZzogXCIwIDEycHhcIiwgYm9yZGVyUmFkaXVzOiA4LCBib3JkZXI6IFwiMXB4IHNvbGlkICMwZWE1ZTlcIiwgYmFja2dyb3VuZDogXCIjZTBmMmZlXCIsIGNvbG9yOiBcIiMwNzU5ODVcIiB9fT5cbiAgICAgICAgICAgICAge2J1c3kgPyBcIuino+aekOS4rS4uLlwiIDogXCLmkq7lvbHjgZfjgaboqq3jgb/lj5bjgotcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3JldHJ5fSBzdHlsZT17eyBoZWlnaHQ6IDM2LCBwYWRkaW5nOiBcIjAgMTJweFwiLCBib3JkZXJSYWRpdXM6IDgsIGJvcmRlcjogXCIxcHggc29saWQgIzMzNDE1NVwiLCBiYWNrZ3JvdW5kOiBcIiNmMWY1ZjlcIiwgY29sb3I6IFwiIzBmMTcyYVwiIH19PuOChOOCiuebtOOBmTwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIgfX0+XG4gICAgICAgICAgICDnlLvlg4/jgYvjgonoqq3jgb/lj5bjgos6XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCJpbWFnZS8qXCIgb25DaGFuZ2U9e29uUGlja0ltYWdlfSBzdHlsZT17eyBkaXNwbGF5OiBcImJsb2NrXCIsIG1hcmdpblRvcDogNiB9fSAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAge2RldmljZXMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBnYXA6IDYgfX0+XG4gICAgICAgICAgICAgIOOCq+ODoeODqTpcbiAgICAgICAgICAgICAgPHNlbGVjdCB2YWx1ZT17ZGV2aWNlSWR9IG9uQ2hhbmdlPXsoZSkgPT4geyBjb25zdCBpZCA9IGUudGFyZ2V0LnZhbHVlIHx8IHVuZGVmaW5lZDsgc2V0RGV2aWNlSWQoaWQpOyBzdGFydFN0cmVhbShpZCk7IH19IHN0eWxlPXt7IHBhZGRpbmc6IFwiNHB4IDhweFwiIH19PlxuICAgICAgICAgICAgICAgIHtkZXZpY2VzLm1hcCgoZCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2QuZGV2aWNlSWR9IHZhbHVlPXtkLmRldmljZUlkfT57ZC5sYWJlbCB8fCBgQ2FtZXJhICR7ZC5kZXZpY2VJZC5zbGljZSgwLCA0KX1gfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3Qgb3ZlcmxheVN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0geyBwb3NpdGlvbjogXCJmaXhlZFwiLCBpbnNldDogMCwgYmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNSlcIiwgZGlzcGxheTogXCJncmlkXCIsIHBsYWNlSXRlbXM6IFwiY2VudGVyXCIsIHpJbmRleDogMTAwMCwgcGFkZGluZzogMTYgfTtcbmNvbnN0IGNvbnRhaW5lclN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0geyB3aWR0aDogXCJtaW4oNDgwcHgsIDEwMCUpXCIsIGJhY2tncm91bmQ6IFwiI2ZmZlwiLCBwYWRkaW5nOiAxMiwgYm9yZGVyUmFkaXVzOiAxMCB9O1xuY29uc3QgZnJhbWVTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgaW5zZXQ6IFwiMjAlIDEwJVwiLCBib3JkZXI6IFwiMnB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC45KVwiLCBib3JkZXJSYWRpdXM6IDgsIGJveFNoYWRvdzogXCIwIDAgMCA5OTk5cHggcmdiYSgwLDAsMCwwLjI1KSBpbnNldFwiLCBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIiB9O1xuXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFQSV9CQVNFIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9CQVNFX1VSTCIsIkZPUk1BVFMiLCJCYXJjb2RlU2Nhbm5lciIsIm9uRGV0ZWN0ZWQiLCJvbkNsb3NlIiwidmlkZW9SZWYiLCJzdHJlYW1SZWYiLCJkZXRlY3RvclJlZiIsImVycm9yIiwic2V0RXJyb3IiLCJidXN5Iiwic2V0QnVzeSIsImZyb3plbiIsInNldEZyb3plbiIsInNuYXBzaG90VXJsIiwic2V0U25hcHNob3RVcmwiLCJkZXZpY2VzIiwic2V0RGV2aWNlcyIsImRldmljZUlkIiwic2V0RGV2aWNlSWQiLCJ1bmRlZmluZWQiLCJzdG9wIiwiY3VycmVudCIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0IiwicGF1c2UiLCJzcmNPYmplY3QiLCJjbG9zZSIsInN0YXJ0U3RyZWFtIiwic2VsZWN0ZWRJZCIsImNvbnN0cmFpbnRzIiwidmlkZW8iLCJmYWNpbmdNb2RlIiwiaWRlYWwiLCJ3aWR0aCIsImhlaWdodCIsImV4YWN0IiwiYXVkaW8iLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJwbGF5IiwiZXJyIiwibmFtZSIsIndpbmRvdyIsIkJhcmNvZGVEZXRlY3RvciIsImZvcm1hdHMiLCJlIiwiY29uc29sZSIsIm1vdW50ZWQiLCJjYW1zIiwibGlzdCIsImVudW1lcmF0ZURldmljZXMiLCJmaWx0ZXIiLCJkIiwia2luZCIsInByZWZlcnJlZCIsImZpbmQiLCJ0ZXN0IiwibGFiZWwiLCJpZCIsInJ1bkRldGVjdE9uQ2FudmFzIiwiY2FudmFzIiwiZGV0IiwicmVzIiwiZGV0ZWN0IiwibGVuZ3RoIiwicmF3VmFsdWUiLCJTdHJpbmciLCJCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIiLCJyZWFkZXIiLCJibG9iIiwicmVqZWN0IiwidG9CbG9iIiwiYiIsIkVycm9yIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVzdWx0IiwiZGVjb2RlRnJvbUltYWdlVXJsIiwidmFsIiwiZ2V0VGV4dCIsInRleHQiLCJyZXZva2VPYmplY3RVUkwiLCJyZXNldCIsIm9uUGlja0ltYWdlIiwiZXYiLCJmIiwidGFyZ2V0IiwiZmlsZXMiLCJibXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsIm1heFNpZGUiLCJNYXRoIiwibWF4Iiwic2NhbGUiLCJjZWlsIiwidyIsImgiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiZHJhd0ltYWdlIiwidmlicmF0ZSIsImZkIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5Iiwib2siLCJjb2RlIiwiY29kZXMiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwiY2FwdHVyZUFuZERldGVjdCIsInZ3IiwidmlkZW9XaWR0aCIsImNsaWVudFdpZHRoIiwidmgiLCJ2aWRlb0hlaWdodCIsImNsaWVudEhlaWdodCIsInJ4IiwicnkiLCJydyIsInJoIiwicm91bmQiLCJyZXRyeSIsImRpdiIsInN0eWxlIiwib3ZlcmxheVN0eWxlIiwiY29udGFpbmVyU3R5bGUiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwibWFyZ2luQm90dG9tIiwic3Ryb25nIiwiYnV0dG9uIiwib25DbGljayIsImNvbG9yIiwicG9zaXRpb24iLCJhc3BlY3RSYXRpbyIsImJhY2tncm91bmQiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsInJlZiIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJvYmplY3RGaXQiLCJpbWciLCJzcmMiLCJhbHQiLCJmcmFtZVN0eWxlIiwibWFyZ2luVG9wIiwiZ2FwIiwiZmxleFdyYXAiLCJkaXNhYmxlZCIsInBhZGRpbmciLCJib3JkZXIiLCJpbnB1dCIsInR5cGUiLCJhY2NlcHQiLCJvbkNoYW5nZSIsInNlbGVjdCIsInZhbHVlIiwibWFwIiwib3B0aW9uIiwic2xpY2UiLCJpbnNldCIsInBsYWNlSXRlbXMiLCJ6SW5kZXgiLCJib3hTaGFkb3ciLCJwb2ludGVyRXZlbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BarcodeScanner.tsx\n"));

/***/ })

});