"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_BarcodeScanner_tsx",{

/***/ "(app-pages-browser)/./components/BarcodeScanner.tsx":
/*!***************************************!*\
  !*** ./components/BarcodeScanner.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BarcodeScanner; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://127.0.0.1:8000\";\nconst FORMATS = [\n    \"ean_13\",\n    \"ean_8\",\n    \"upc_a\",\n    \"code_128\",\n    \"code_39\",\n    \"itf\"\n];\nfunction BarcodeScanner(param) {\n    let { onDetected, onClose } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const detectorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [busy, setBusy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [frozen, setFrozen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [snapshotUrl, setSnapshotUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [devices, setDevices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [deviceId, setDeviceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const stop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (streamRef.current) {\n            try {\n                streamRef.current.getTracks().forEach((t)=>t.stop());\n            } catch (e) {}\n            streamRef.current = null;\n        }\n        if (videoRef.current) {\n            try {\n                videoRef.current.pause();\n            } catch (e) {}\n            try {\n                videoRef.current.srcObject = null;\n            } catch (e) {}\n        }\n    }, []);\n    const close = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        stop();\n        onClose();\n    }, [\n        onClose,\n        stop\n    ]);\n    const startStream = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (selectedId)=>{\n        setError(\"\");\n        try {\n            if (streamRef.current) {\n                streamRef.current.getTracks().forEach((t)=>t.stop());\n                streamRef.current = null;\n            }\n            const constraints = {\n                video: {\n                    facingMode: {\n                        ideal: \"environment\"\n                    },\n                    width: {\n                        ideal: 1920\n                    },\n                    height: {\n                        ideal: 1080\n                    },\n                    ...selectedId ? {\n                        deviceId: {\n                            exact: selectedId\n                        }\n                    } : {}\n                },\n                audio: false\n            };\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            streamRef.current = stream;\n            const v = videoRef.current;\n            if (v) {\n                v.srcObject = stream;\n                await new Promise((resolve)=>{\n                    if (v.readyState >= 2) resolve();\n                    else v.addEventListener(\"loadedmetadata\", ()=>resolve(), {\n                        once: true\n                    });\n                });\n                try {\n                    await v.play();\n                } catch (err) {\n                    if (!(err && err.name === \"AbortError\")) throw err;\n                }\n            }\n            if (\"BarcodeDetector\" in window) {\n                detectorRef.current = new window.BarcodeDetector({\n                    formats: FORMATS\n                });\n            }\n        } catch (e) {\n            console.error(e);\n            setError(\"カメラを起動できませんでした。画像から読み取りに切り替えます。\");\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            try {\n                var _cams_;\n                const list = await navigator.mediaDevices.enumerateDevices();\n                const cams = list.filter((d)=>d.kind === \"videoinput\");\n                if (!mounted) return;\n                setDevices(cams);\n                const preferred = cams.find((d)=>/back|environment|rear/i.test(d.label));\n                const id = deviceId || (preferred === null || preferred === void 0 ? void 0 : preferred.deviceId) || ((_cams_ = cams[0]) === null || _cams_ === void 0 ? void 0 : _cams_.deviceId);\n                setDeviceId(id);\n                await startStream(id);\n            } catch (e) {\n                await startStream(undefined);\n            }\n        })();\n        return ()=>{\n            mounted = false;\n            stop();\n        };\n    }, [\n        startStream,\n        stop\n    ]);\n    const runDetectOnCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (canvas)=>{\n        if (false) {}\n        if (\"BarcodeDetector\" in window) {\n            try {\n                const det = detectorRef.current || new window.BarcodeDetector({\n                    formats: FORMATS\n                });\n                detectorRef.current = det;\n                const res = await det.detect(canvas);\n                if (res && res.length > 0 && res[0].rawValue) return String(res[0].rawValue);\n            } catch (e) {}\n        }\n        try {\n            const { BrowserMultiFormatReader } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_zxing_browser_esm_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! @zxing/browser */ \"(app-pages-browser)/./node_modules/@zxing/browser/esm/index.js\"));\n            const reader = new BrowserMultiFormatReader();\n            // toBlob の null 安全化\n            const blob = await new Promise((resolve, reject)=>{\n                canvas.toBlob((b)=>b ? resolve(b) : reject(new Error(\"toBlob failed\")), \"image/png\");\n            });\n            const url = URL.createObjectURL(blob);\n            try {\n                var _result_getText;\n                const result = await reader.decodeFromImageUrl(url);\n                const val = result && (((_result_getText = result.getText) === null || _result_getText === void 0 ? void 0 : _result_getText.call(result)) || result.text);\n                if (val) return String(val);\n            } finally{\n                var _reader_reset;\n                URL.revokeObjectURL(url);\n                (_reader_reset = reader.reset) === null || _reader_reset === void 0 ? void 0 : _reader_reset.call(reader);\n            }\n        } catch (e) {}\n        return null;\n    }, []);\n    const onPickImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (ev)=>{\n        var _ev_target_files;\n        const f = (_ev_target_files = ev.target.files) === null || _ev_target_files === void 0 ? void 0 : _ev_target_files[0];\n        if (!f) return;\n        try {\n            const bmp = await createImageBitmap(f);\n            const maxSide = Math.max(bmp.width, bmp.height);\n            const scale = maxSide < 900 ? Math.ceil(900 / maxSide) : 1;\n            const w = bmp.width * scale;\n            const h = bmp.height * scale;\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = w;\n            canvas.height = h;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.imageSmoothingEnabled = true;\n            ctx.filter = \"grayscale(100%) contrast(125%)\";\n            ctx.drawImage(bmp, 0, 0, w, h);\n            const val = await runDetectOnCanvas(canvas);\n            if (val) {\n                if (navigator.vibrate) navigator.vibrate(50);\n                onDetected(val);\n                close();\n                return;\n            }\n            const fd = new FormData();\n            fd.append(\"file\", f);\n            const r = await fetch(\"\".concat(API_BASE, \"/api/scan\"), {\n                method: \"POST\",\n                body: fd\n            });\n            if (r.ok) {\n                const { code, codes } = await r.json();\n                const v = code || Array.isArray(codes) && codes[0];\n                if (v) {\n                    if (navigator.vibrate) navigator.vibrate(50);\n                    onDetected(String(v));\n                    close();\n                    return;\n                }\n            }\n            setError(\"画像からバーコードを読み取れませんでした\");\n        } catch (e) {\n            setError(\"画像の処理に失敗しました\");\n        }\n    }, [\n        close,\n        onDetected,\n        runDetectOnCanvas\n    ]);\n    const captureAndDetect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const v = videoRef.current;\n        if (!v) return;\n        try {\n            setBusy(true);\n            const vw = v.videoWidth || v.clientWidth || 0;\n            const vh = v.videoHeight || v.clientHeight || 0;\n            if (!vw || !vh) throw new Error(\"no video frame\");\n            // ROI: inset 20% top/bottom, 10% left/right\n            const rx = 0.1 * vw, ry = 0.2 * vh, rw = 0.8 * vw, rh = 0.6 * vh;\n            const scale = Math.max(1, Math.ceil(Math.max(rw, rh) < 900 ? 900 / Math.max(rw, rh) : 1));\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = Math.round(rw * scale);\n            canvas.height = Math.round(rh * scale);\n            const ctx = canvas.getContext(\"2d\");\n            ctx.imageSmoothingEnabled = true;\n            ctx.filter = \"grayscale(100%) contrast(125%)\";\n            ctx.drawImage(v, rx, ry, rw, rh, 0, 0, canvas.width, canvas.height);\n            // Freeze preview with snapshot\n            try {\n                const blob = await new Promise((resolve)=>canvas.toBlob((b)=>resolve(b), \"image/png\"));\n                const url = URL.createObjectURL(blob);\n                setSnapshotUrl(url);\n                setFrozen(true);\n                try {\n                    v.pause();\n                } catch (e) {}\n            } catch (e) {}\n            const val = await runDetectOnCanvas(canvas);\n            if (val) {\n                if (navigator.vibrate) navigator.vibrate(50);\n                onDetected(val);\n                close();\n                return;\n            }\n            setError(\"認識できませんでした。枠内で再撮影してください。\");\n        } catch (e) {\n            setError(\"フレームの取得に失敗しました\");\n        } finally{\n            setBusy(false);\n        }\n    }, [\n        close,\n        onDetected,\n        runDetectOnCanvas\n    ]);\n    const retry = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setFrozen(false);\n        if (snapshotUrl) {\n            try {\n                URL.revokeObjectURL(snapshotUrl);\n            } catch (e) {}\n        }\n        setSnapshotUrl(null);\n        const v = videoRef.current;\n        if (v) {\n            try {\n                v.play();\n            } catch (e) {}\n        }\n        setError(\"\");\n    }, [\n        snapshotUrl\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: overlayStyle,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: containerStyle,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        marginBottom: 8\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: \"バーコードを枠に合わせてください\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 199,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: close,\n                            children: \"閉じる\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 198,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        color: \"#c00\",\n                        marginBottom: 8\n                    },\n                    children: error\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 202,\n                    columnNumber: 19\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        position: \"relative\",\n                        width: \"100%\",\n                        aspectRatio: \"3/4\",\n                        background: \"#000\",\n                        borderRadius: 8,\n                        overflow: \"hidden\"\n                    },\n                    children: [\n                        !frozen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: videoRef,\n                            playsInline: true,\n                            muted: true,\n                            style: {\n                                width: \"100%\",\n                                height: \"100%\",\n                                objectFit: \"cover\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 23\n                        }, this),\n                        frozen && snapshotUrl && // eslint-disable-next-line @next/next/no-img-element\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: snapshotUrl,\n                            alt: \"snapshot\",\n                            style: {\n                                width: \"100%\",\n                                height: \"100%\",\n                                objectFit: \"cover\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 207,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: frameStyle\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 209,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: 12,\n                        display: \"flex\",\n                        gap: 8,\n                        alignItems: \"center\",\n                        flexWrap: \"wrap\"\n                    },\n                    children: [\n                        !frozen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: captureAndDetect,\n                            disabled: busy,\n                            style: {\n                                height: 36,\n                                padding: \"0 12px\",\n                                borderRadius: 8,\n                                border: \"1px solid #0ea5e9\",\n                                background: \"#e0f2fe\",\n                                color: \"#075985\"\n                            },\n                            children: busy ? \"解析中...\" : \"撮影して読み取る\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 213,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: retry,\n                            style: {\n                                height: 36,\n                                padding: \"0 12px\",\n                                borderRadius: 8,\n                                border: \"1px solid #334155\",\n                                background: \"#f1f5f9\",\n                                color: \"#0f172a\"\n                            },\n                            children: \"やり直す\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 217,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            style: {\n                                display: \"inline-block\"\n                            },\n                            children: [\n                                \"画像から読み取る:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    accept: \"image/*\",\n                                    onChange: onPickImage,\n                                    style: {\n                                        display: \"block\",\n                                        marginTop: 6\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                    lineNumber: 221,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 219,\n                            columnNumber: 11\n                        }, this),\n                        devices.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            style: {\n                                display: \"inline-flex\",\n                                alignItems: \"center\",\n                                gap: 6\n                            },\n                            children: [\n                                \"カメラ:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: deviceId,\n                                    onChange: (e)=>{\n                                        const id = e.target.value || undefined;\n                                        setDeviceId(id);\n                                        startStream(id);\n                                    },\n                                    style: {\n                                        padding: \"4px 8px\"\n                                    },\n                                    children: devices.map((d)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: d.deviceId,\n                                            children: d.label || \"Camera \".concat(d.deviceId.slice(0, 4))\n                                        }, d.deviceId, false, {\n                                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                            lineNumber: 224,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n                    lineNumber: 211,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n            lineNumber: 197,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\jkhor\\\\Desktop\\\\Tech 0\\\\Step4PosアプリLv2\\\\pos-lv2\\\\frontend\\\\components\\\\BarcodeScanner.tsx\",\n        lineNumber: 196,\n        columnNumber: 5\n    }, this);\n}\n_s(BarcodeScanner, \"kBDCA9Rkz9FmVnFBsbGIZLq97t8=\");\n_c = BarcodeScanner;\nconst overlayStyle = {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.5)\",\n    display: \"grid\",\n    placeItems: \"center\",\n    zIndex: 1000,\n    padding: 16\n};\nconst containerStyle = {\n    width: \"min(480px, 100%)\",\n    background: \"#fff\",\n    padding: 12,\n    borderRadius: 10\n};\nconst frameStyle = {\n    position: \"absolute\",\n    inset: \"20% 10%\",\n    border: \"2px solid rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    boxShadow: \"0 0 0 9999px rgba(0,0,0,0.25) inset\",\n    pointerEvents: \"none\"\n};\nvar _c;\n$RefreshReg$(_c, \"BarcodeScanner\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQmFyY29kZVNjYW5uZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFaUU7QUFTakUsTUFBTUksV0FBV0MsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSTtBQUN6RCxNQUFNQyxVQUFVO0lBQUM7SUFBVTtJQUFTO0lBQVM7SUFBWTtJQUFXO0NBQU07QUFFM0QsU0FBU0MsZUFBZSxLQUE4QjtRQUE5QixFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBUyxHQUE5Qjs7SUFDckMsTUFBTUMsV0FBV1YsNkNBQU1BLENBQTBCO0lBQ2pELE1BQU1XLFlBQVlYLDZDQUFNQSxDQUFxQjtJQUM3QyxNQUFNWSxjQUFjWiw2Q0FBTUEsQ0FBYTtJQUN2QyxNQUFNLENBQUNhLE9BQU9DLFNBQVMsR0FBR2IsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDYyxNQUFNQyxRQUFRLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ2dCLFFBQVFDLFVBQVUsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2tCLGFBQWFDLGVBQWUsR0FBR25CLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUNvQixTQUFTQyxXQUFXLEdBQUdyQiwrQ0FBUUEsQ0FBb0IsRUFBRTtJQUM1RCxNQUFNLENBQUNzQixVQUFVQyxZQUFZLEdBQUd2QiwrQ0FBUUEsQ0FBcUJ3QjtJQUU3RCxNQUFNQyxPQUFPNUIsa0RBQVdBLENBQUM7UUFDdkIsSUFBSWEsVUFBVWdCLE9BQU8sRUFBRTtZQUNyQixJQUFJO2dCQUFFaEIsVUFBVWdCLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHQyxPQUFPLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUosSUFBSTtZQUFLLEVBQUUsVUFBTSxDQUFDO1lBQ3ZFZixVQUFVZ0IsT0FBTyxHQUFHO1FBQ3RCO1FBQ0EsSUFBSWpCLFNBQVNpQixPQUFPLEVBQUU7WUFDcEIsSUFBSTtnQkFBRWpCLFNBQVNp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d0JoQjtLQUFBQTtBQWdPeEIsTUFBTTZJLGVBQW9DO0lBQUVVLFVBQVU7SUFBUzRCLE9BQU87SUFBRzFCLFlBQVk7SUFBbUJWLFNBQVM7SUFBUXFDLFlBQVk7SUFBVUMsUUFBUTtJQUFNYixTQUFTO0FBQUc7QUFDekssTUFBTTFCLGlCQUFzQztJQUFFN0csT0FBTztJQUFvQndILFlBQVk7SUFBUWUsU0FBUztJQUFJZCxjQUFjO0FBQUc7QUFDM0gsTUFBTVMsYUFBa0M7SUFBRVosVUFBVTtJQUFZNEIsT0FBTztJQUFXVixRQUFRO0lBQW1DZixjQUFjO0lBQUc0QixXQUFXO0lBQXVDQyxlQUFlO0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9CYXJjb2RlU2Nhbm5lci50c3g/Yzc4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIFByb3BzID0ge1xuICBvbkRldGVjdGVkOiAoY29kZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufTtcblxuZGVjbGFyZSBnbG9iYWwgeyBpbnRlcmZhY2UgV2luZG93IHsgQmFyY29kZURldGVjdG9yPzogYW55IH0gfVxuXG5jb25zdCBBUElfQkFTRSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9CQVNFX1VSTCB8fCBcImh0dHA6Ly8xMjcuMC4wLjE6ODAwMFwiO1xuY29uc3QgRk9STUFUUyA9IFtcImVhbl8xM1wiLCBcImVhbl84XCIsIFwidXBjX2FcIiwgXCJjb2RlXzEyOFwiLCBcImNvZGVfMzlcIiwgXCJpdGZcIl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhcmNvZGVTY2FubmVyKHsgb25EZXRlY3RlZCwgb25DbG9zZSB9OiBQcm9wcyk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzdHJlYW1SZWYgPSB1c2VSZWY8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgZGV0ZWN0b3JSZWYgPSB1c2VSZWY8YW55IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtidXN5LCBzZXRCdXN5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Zyb3plbiwgc2V0RnJvemVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NuYXBzaG90VXJsLCBzZXRTbmFwc2hvdFVybF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RldmljZXMsIHNldERldmljZXNdID0gdXNlU3RhdGU8TWVkaWFEZXZpY2VJbmZvW10+KFtdKTtcbiAgY29uc3QgW2RldmljZUlkLCBzZXREZXZpY2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbiAgY29uc3Qgc3RvcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc3RyZWFtUmVmLmN1cnJlbnQpIHtcbiAgICAgIHRyeSB7IHN0cmVhbVJlZi5jdXJyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHQuc3RvcCgpKTsgfSBjYXRjaCB7fVxuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdHJ5IHsgdmlkZW9SZWYuY3VycmVudC5wYXVzZSgpOyB9IGNhdGNoIHt9XG4gICAgICB0cnkgeyAodmlkZW9SZWYuY3VycmVudCBhcyBhbnkpLnNyY09iamVjdCA9IG51bGw7IH0gY2F0Y2gge31cbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBjbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHsgc3RvcCgpOyBvbkNsb3NlKCk7IH0sIFtvbkNsb3NlLCBzdG9wXSk7XG5cbiAgY29uc3Qgc3RhcnRTdHJlYW0gPSB1c2VDYWxsYmFjayhhc3luYyAoc2VsZWN0ZWRJZD86IHN0cmluZykgPT4ge1xuICAgIHNldEVycm9yKFwiXCIpO1xuICAgIHRyeSB7XG4gICAgICBpZiAoc3RyZWFtUmVmLmN1cnJlbnQpIHsgc3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4gdC5zdG9wKCkpOyBzdHJlYW1SZWYuY3VycmVudCA9IG51bGw7IH1cbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzID0ge1xuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIGZhY2luZ01vZGU6IHsgaWRlYWw6IFwiZW52aXJvbm1lbnRcIiB9LFxuICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiAxOTIwIH0sXG4gICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiAxMDgwIH0sXG4gICAgICAgICAgLi4uKHNlbGVjdGVkSWQgPyB7IGRldmljZUlkOiB7IGV4YWN0OiBzZWxlY3RlZElkIH0gfSA6IHt9KSxcbiAgICAgICAgfSBhcyBhbnksXG4gICAgICAgIGF1ZGlvOiBmYWxzZSxcbiAgICAgIH07XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG4gICAgICBzdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbTtcbiAgICAgIGNvbnN0IHYgPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgICAgaWYgKHYpIHtcbiAgICAgICAgKHYgYXMgYW55KS5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgaWYgKCh2IGFzIGFueSkucmVhZHlTdGF0ZSA+PSAyKSByZXNvbHZlKCk7XG4gICAgICAgICAgZWxzZSB2LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLCAoKSA9PiByZXNvbHZlKCksIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7IGF3YWl0IHYucGxheSgpOyB9IGNhdGNoIChlcnI6IGFueSkgeyBpZiAoIShlcnIgJiYgZXJyLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSkgdGhyb3cgZXJyOyB9XG4gICAgICB9XG4gICAgICBpZiAoXCJCYXJjb2RlRGV0ZWN0b3JcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgZGV0ZWN0b3JSZWYuY3VycmVudCA9IG5ldyAod2luZG93IGFzIGFueSkuQmFyY29kZURldGVjdG9yKHsgZm9ybWF0czogRk9STUFUUyB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgc2V0RXJyb3IoXCLjgqvjg6Hjg6njgpLotbfli5XjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ/jgILnlLvlg4/jgYvjgonoqq3jgb/lj5bjgorjgavliIfjgormm7/jgYjjgb7jgZnjgIJcIik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgICAgY29uc3QgY2FtcyA9IGxpc3QuZmlsdGVyKChkKSA9PiBkLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiKTtcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICAgIHNldERldmljZXMoY2Ftcyk7XG4gICAgICAgIGNvbnN0IHByZWZlcnJlZCA9IGNhbXMuZmluZCgoZCkgPT4gL2JhY2t8ZW52aXJvbm1lbnR8cmVhci9pLnRlc3QoZC5sYWJlbCkpO1xuICAgICAgICBjb25zdCBpZCA9IGRldmljZUlkIHx8IHByZWZlcnJlZD8uZGV2aWNlSWQgfHwgY2Ftc1swXT8uZGV2aWNlSWQ7XG4gICAgICAgIHNldERldmljZUlkKGlkKTtcbiAgICAgICAgYXdhaXQgc3RhcnRTdHJlYW0oaWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGF3YWl0IHN0YXJ0U3RyZWFtKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBtb3VudGVkID0gZmFsc2U7IHN0b3AoKTsgfTtcbiAgfSwgW3N0YXJ0U3RyZWFtLCBzdG9wXSk7XG5cbiAgY29uc3QgcnVuRGV0ZWN0T25DYW52YXMgPSB1c2VDYWxsYmFjayhhc3luYyAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoXCJCYXJjb2RlRGV0ZWN0b3JcIiBpbiB3aW5kb3cpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRldCA9IGRldGVjdG9yUmVmLmN1cnJlbnQgfHwgbmV3ICh3aW5kb3cgYXMgYW55KS5CYXJjb2RlRGV0ZWN0b3IoeyBmb3JtYXRzOiBGT1JNQVRTIH0pO1xuICAgICAgICBkZXRlY3RvclJlZi5jdXJyZW50ID0gZGV0O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZXQuZGV0ZWN0KGNhbnZhcyBhcyB1bmtub3duIGFzIENhbnZhc0ltYWdlU291cmNlKTtcbiAgICAgICAgaWYgKHJlcyAmJiByZXMubGVuZ3RoID4gMCAmJiByZXNbMF0ucmF3VmFsdWUpIHJldHVybiBTdHJpbmcocmVzWzBdLnJhd1ZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBpZ25vcmUgKi8gfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIgfSA9IGF3YWl0IGltcG9ydChcIkB6eGluZy9icm93c2VyXCIpO1xuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEJyb3dzZXJNdWx0aUZvcm1hdFJlYWRlcigpO1xuICAgICAgLy8gdG9CbG9iIOOBriBudWxsIOWuieWFqOWMllxuICAgICAgY29uc3QgYmxvYjogQmxvYiA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2FudmFzLnRvQmxvYigoYikgPT4gKGIgPyByZXNvbHZlKGIpIDogcmVqZWN0KG5ldyBFcnJvcihcInRvQmxvYiBmYWlsZWRcIikpKSwgXCJpbWFnZS9wbmdcIik7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGF3YWl0IHJlYWRlci5kZWNvZGVGcm9tSW1hZ2VVcmwodXJsKTtcbiAgICAgICAgY29uc3QgdmFsID0gKHJlc3VsdCAmJiAocmVzdWx0LmdldFRleHQ/LigpIHx8IHJlc3VsdC50ZXh0KSkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAodmFsKSByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgIChyZWFkZXIgYXMgYW55KS5yZXNldD8uKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7IC8qIGlnbm9yZSAqLyB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIFtdKTtcblxuICBjb25zdCBvblBpY2tJbWFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChldjogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmID0gZXYudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKCFmKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJtcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGYpO1xuICAgICAgY29uc3QgbWF4U2lkZSA9IE1hdGgubWF4KGJtcC53aWR0aCwgYm1wLmhlaWdodCk7XG4gICAgICBjb25zdCBzY2FsZSA9IG1heFNpZGUgPCA5MDAgPyBNYXRoLmNlaWwoOTAwIC8gbWF4U2lkZSkgOiAxO1xuICAgICAgY29uc3QgdyA9IGJtcC53aWR0aCAqIHNjYWxlO1xuICAgICAgY29uc3QgaCA9IGJtcC5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICBjYW52YXMud2lkdGggPSB3OyBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAoY3R4IGFzIGFueSkuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSkgY29udHJhc3QoMTI1JSlcIjtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoYm1wLCAwLCAwLCB3LCBoKTtcblxuICAgICAgY29uc3QgdmFsID0gYXdhaXQgcnVuRGV0ZWN0T25DYW52YXMoY2FudmFzKTtcbiAgICAgIGlmICh2YWwpIHsgaWYgKG5hdmlnYXRvci52aWJyYXRlKSBuYXZpZ2F0b3IudmlicmF0ZSg1MCk7IG9uRGV0ZWN0ZWQodmFsKTsgY2xvc2UoKTsgcmV0dXJuOyB9XG5cbiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7IGZkLmFwcGVuZChcImZpbGVcIiwgZik7XG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0V9L2FwaS9zY2FuYCwgeyBtZXRob2Q6IFwiUE9TVFwiLCBib2R5OiBmZCB9KTtcbiAgICAgIGlmIChyLm9rKSB7IGNvbnN0IHsgY29kZSwgY29kZXMgfSA9IGF3YWl0IHIuanNvbigpOyBjb25zdCB2ID0gY29kZSB8fCAoQXJyYXkuaXNBcnJheShjb2RlcykgJiYgY29kZXNbMF0pOyBpZiAodikgeyBpZiAobmF2aWdhdG9yLnZpYnJhdGUpIG5hdmlnYXRvci52aWJyYXRlKDUwKTsgb25EZXRlY3RlZChTdHJpbmcodikpOyBjbG9zZSgpOyByZXR1cm47IH0gfVxuICAgICAgc2V0RXJyb3IoXCLnlLvlg4/jgYvjgonjg5Djg7zjgrPjg7zjg4njgpLoqq3jgb/lj5bjgozjgb7jgZvjgpPjgafjgZfjgZ9cIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcihcIueUu+WDj+OBruWHpueQhuOBq+WkseaVl+OBl+OBvuOBl+OBn1wiKTtcbiAgICB9XG4gIH0sIFtjbG9zZSwgb25EZXRlY3RlZCwgcnVuRGV0ZWN0T25DYW52YXNdKTtcblxuICBjb25zdCBjYXB0dXJlQW5kRGV0ZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHYgPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGlmICghdikgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBzZXRCdXN5KHRydWUpO1xuICAgICAgY29uc3QgdncgPSB2LnZpZGVvV2lkdGggfHwgdi5jbGllbnRXaWR0aCB8fCAwO1xuICAgICAgY29uc3QgdmggPSB2LnZpZGVvSGVpZ2h0IHx8IHYuY2xpZW50SGVpZ2h0IHx8IDA7XG4gICAgICBpZiAoIXZ3IHx8ICF2aCkgdGhyb3cgbmV3IEVycm9yKFwibm8gdmlkZW8gZnJhbWVcIik7XG4gICAgICAvLyBST0k6IGluc2V0IDIwJSB0b3AvYm90dG9tLCAxMCUgbGVmdC9yaWdodFxuICAgICAgY29uc3QgcnggPSAwLjEgKiB2dywgcnkgPSAwLjIgKiB2aCwgcncgPSAwLjggKiB2dywgcmggPSAwLjYgKiB2aDtcbiAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKE1hdGgubWF4KHJ3LCByaCkgPCA5MDAgPyA5MDAgLyBNYXRoLm1heChydywgcmgpIDogMSkpO1xuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQocncgKiBzY2FsZSk7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChyaCAqIHNjYWxlKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAoY3R4IGFzIGFueSkuZmlsdGVyID0gXCJncmF5c2NhbGUoMTAwJSkgY29udHJhc3QoMTI1JSlcIjtcbiAgICAgIGN0eC5kcmF3SW1hZ2UodiwgcngsIHJ5LCBydywgcmgsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIC8vIEZyZWV6ZSBwcmV2aWV3IHdpdGggc25hcHNob3RcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJsb2I6IEJsb2IgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gY2FudmFzLnRvQmxvYigoYikgPT4gcmVzb2x2ZShiIGFzIEJsb2IpLCBcImltYWdlL3BuZ1wiKSk7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHNldFNuYXBzaG90VXJsKHVybCk7XG4gICAgICAgIHNldEZyb3plbih0cnVlKTtcbiAgICAgICAgdHJ5IHsgdi5wYXVzZSgpOyB9IGNhdGNoIHt9XG4gICAgICB9IGNhdGNoIHt9XG5cbiAgICAgIGNvbnN0IHZhbCA9IGF3YWl0IHJ1bkRldGVjdE9uQ2FudmFzKGNhbnZhcyk7XG4gICAgICBpZiAodmFsKSB7IGlmIChuYXZpZ2F0b3IudmlicmF0ZSkgbmF2aWdhdG9yLnZpYnJhdGUoNTApOyBvbkRldGVjdGVkKHZhbCk7IGNsb3NlKCk7IHJldHVybjsgfVxuICAgICAgc2V0RXJyb3IoXCLoqo3orZjjgafjgY3jgb7jgZvjgpPjgafjgZfjgZ/jgILmnqDlhoXjgaflho3mkq7lvbHjgZfjgabjgY/jgaDjgZXjgYTjgIJcIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRFcnJvcihcIuODleODrOODvOODoOOBruWPluW+l+OBq+WkseaVl+OBl+OBvuOBl+OBn1wiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0QnVzeShmYWxzZSk7XG4gICAgfVxuICB9LCBbY2xvc2UsIG9uRGV0ZWN0ZWQsIHJ1bkRldGVjdE9uQ2FudmFzXSk7XG5cbiAgY29uc3QgcmV0cnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RnJvemVuKGZhbHNlKTtcbiAgICBpZiAoc25hcHNob3RVcmwpIHsgdHJ5IHsgVVJMLnJldm9rZU9iamVjdFVSTChzbmFwc2hvdFVybCk7IH0gY2F0Y2gge30gfVxuICAgIHNldFNuYXBzaG90VXJsKG51bGwpO1xuICAgIGNvbnN0IHYgPSB2aWRlb1JlZi5jdXJyZW50OyBpZiAodikgeyB0cnkgeyB2LnBsYXkoKTsgfSBjYXRjaCB7fSB9XG4gICAgc2V0RXJyb3IoXCJcIik7XG4gIH0sIFtzbmFwc2hvdFVybF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17b3ZlcmxheVN0eWxlfT5cbiAgICAgIDxkaXYgc3R5bGU9e2NvbnRhaW5lclN0eWxlfT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBtYXJnaW5Cb3R0b206IDggfX0+XG4gICAgICAgICAgPHN0cm9uZz7jg5Djg7zjgrPjg7zjg4njgpLmnqDjgavlkIjjgo/jgZvjgabjgY/jgaDjgZXjgYQ8L3N0cm9uZz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2Nsb3NlfT7plonjgZjjgos8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtlcnJvciAmJiA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBcIiNjMDBcIiwgbWFyZ2luQm90dG9tOiA4IH19PntlcnJvcn08L2Rpdj59XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgd2lkdGg6IFwiMTAwJVwiLCBhc3BlY3RSYXRpbzogXCIzLzRcIiwgYmFja2dyb3VuZDogXCIjMDAwXCIsIGJvcmRlclJhZGl1czogOCwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfX0+XG4gICAgICAgICAgeyFmcm96ZW4gJiYgPHZpZGVvIHJlZj17dmlkZW9SZWZ9IHBsYXlzSW5saW5lIG11dGVkIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb2JqZWN0Rml0OiBcImNvdmVyXCIgfX0gLz59XG4gICAgICAgICAge2Zyb3plbiAmJiBzbmFwc2hvdFVybCAmJiAoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQG5leHQvbmV4dC9uby1pbWctZWxlbWVudFxuICAgICAgICAgICAgPGltZyBzcmM9e3NuYXBzaG90VXJsfSBhbHQ9XCJzbmFwc2hvdFwiIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgb2JqZWN0Rml0OiBcImNvdmVyXCIgfX0gLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgc3R5bGU9e2ZyYW1lU3R5bGV9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMTIsIGRpc3BsYXk6IFwiZmxleFwiLCBnYXA6IDgsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGZsZXhXcmFwOiBcIndyYXBcIiB9fT5cbiAgICAgICAgICB7IWZyb3plbiA/IChcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2FwdHVyZUFuZERldGVjdH0gZGlzYWJsZWQ9e2J1c3l9IHN0eWxlPXt7IGhlaWdodDogMzYsIHBhZGRpbmc6IFwiMCAxMnB4XCIsIGJvcmRlclJhZGl1czogOCwgYm9yZGVyOiBcIjFweCBzb2xpZCAjMGVhNWU5XCIsIGJhY2tncm91bmQ6IFwiI2UwZjJmZVwiLCBjb2xvcjogXCIjMDc1OTg1XCIgfX0+XG4gICAgICAgICAgICAgIHtidXN5ID8gXCLop6PmnpDkuK0uLi5cIiA6IFwi5pKu5b2x44GX44Gm6Kqt44G/5Y+W44KLXCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZXRyeX0gc3R5bGU9e3sgaGVpZ2h0OiAzNiwgcGFkZGluZzogXCIwIDEycHhcIiwgYm9yZGVyUmFkaXVzOiA4LCBib3JkZXI6IFwiMXB4IHNvbGlkICMzMzQxNTVcIiwgYmFja2dyb3VuZDogXCIjZjFmNWY5XCIsIGNvbG9yOiBcIiMwZjE3MmFcIiB9fT7jgoTjgornm7TjgZk8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiIH19PlxuICAgICAgICAgICAg55S75YOP44GL44KJ6Kqt44G/5Y+W44KLOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIG9uQ2hhbmdlPXtvblBpY2tJbWFnZX0gc3R5bGU9e3sgZGlzcGxheTogXCJibG9ja1wiLCBtYXJnaW5Ub3A6IDYgfX0gLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIHtkZXZpY2VzLmxlbmd0aCA+IDEgJiYgKFxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgZ2FwOiA2IH19PlxuICAgICAgICAgICAgICDjgqvjg6Hjg6k6XG4gICAgICAgICAgICAgIDxzZWxlY3QgdmFsdWU9e2RldmljZUlkfSBvbkNoYW5nZT17KGUpID0+IHsgY29uc3QgaWQgPSBlLnRhcmdldC52YWx1ZSB8fCB1bmRlZmluZWQ7IHNldERldmljZUlkKGlkKTsgc3RhcnRTdHJlYW0oaWQpOyB9fSBzdHlsZT17eyBwYWRkaW5nOiBcIjRweCA4cHhcIiB9fT5cbiAgICAgICAgICAgICAgICB7ZGV2aWNlcy5tYXAoKGQpID0+IChcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtkLmRldmljZUlkfSB2YWx1ZT17ZC5kZXZpY2VJZH0+e2QubGFiZWwgfHwgYENhbWVyYSAke2QuZGV2aWNlSWQuc2xpY2UoMCwgNCl9YH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmNvbnN0IG92ZXJsYXlTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgcG9zaXRpb246IFwiZml4ZWRcIiwgaW5zZXQ6IDAsIGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjUpXCIsIGRpc3BsYXk6IFwiZ3JpZFwiLCBwbGFjZUl0ZW1zOiBcImNlbnRlclwiLCB6SW5kZXg6IDEwMDAsIHBhZGRpbmc6IDE2IH07XG5jb25zdCBjb250YWluZXJTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgd2lkdGg6IFwibWluKDQ4MHB4LCAxMDAlKVwiLCBiYWNrZ3JvdW5kOiBcIiNmZmZcIiwgcGFkZGluZzogMTIsIGJvcmRlclJhZGl1czogMTAgfTtcbmNvbnN0IGZyYW1lU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGluc2V0OiBcIjIwJSAxMCVcIiwgYm9yZGVyOiBcIjJweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIiwgYm9yZGVyUmFkaXVzOiA4LCBib3hTaGFkb3c6IFwiMCAwIDAgOTk5OXB4IHJnYmEoMCwwLDAsMC4yNSkgaW5zZXRcIiwgcG9pbnRlckV2ZW50czogXCJub25lXCIgfTtcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQVBJX0JBU0UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0JBU0VfVVJMIiwiRk9STUFUUyIsIkJhcmNvZGVTY2FubmVyIiwib25EZXRlY3RlZCIsIm9uQ2xvc2UiLCJ2aWRlb1JlZiIsInN0cmVhbVJlZiIsImRldGVjdG9yUmVmIiwiZXJyb3IiLCJzZXRFcnJvciIsImJ1c3kiLCJzZXRCdXN5IiwiZnJvemVuIiwic2V0RnJvemVuIiwic25hcHNob3RVcmwiLCJzZXRTbmFwc2hvdFVybCIsImRldmljZXMiLCJzZXREZXZpY2VzIiwiZGV2aWNlSWQiLCJzZXREZXZpY2VJZCIsInVuZGVmaW5lZCIsInN0b3AiLCJjdXJyZW50IiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInQiLCJwYXVzZSIsInNyY09iamVjdCIsImNsb3NlIiwic3RhcnRTdHJlYW0iLCJzZWxlY3RlZElkIiwiY29uc3RyYWludHMiLCJ2aWRlbyIsImZhY2luZ01vZGUiLCJpZGVhbCIsIndpZHRoIiwiaGVpZ2h0IiwiZXhhY3QiLCJhdWRpbyIsInN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInYiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInBsYXkiLCJlcnIiLCJuYW1lIiwid2luZG93IiwiQmFyY29kZURldGVjdG9yIiwiZm9ybWF0cyIsImUiLCJjb25zb2xlIiwibW91bnRlZCIsImNhbXMiLCJsaXN0IiwiZW51bWVyYXRlRGV2aWNlcyIsImZpbHRlciIsImQiLCJraW5kIiwicHJlZmVycmVkIiwiZmluZCIsInRlc3QiLCJsYWJlbCIsImlkIiwicnVuRGV0ZWN0T25DYW52YXMiLCJjYW52YXMiLCJkZXQiLCJyZXMiLCJkZXRlY3QiLCJsZW5ndGgiLCJyYXdWYWx1ZSIsIlN0cmluZyIsIkJyb3dzZXJNdWx0aUZvcm1hdFJlYWRlciIsInJlYWRlciIsImJsb2IiLCJyZWplY3QiLCJ0b0Jsb2IiLCJiIiwiRXJyb3IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXN1bHQiLCJkZWNvZGVGcm9tSW1hZ2VVcmwiLCJ2YWwiLCJnZXRUZXh0IiwidGV4dCIsInJldm9rZU9iamVjdFVSTCIsInJlc2V0Iiwib25QaWNrSW1hZ2UiLCJldiIsImYiLCJ0YXJnZXQiLCJmaWxlcyIsImJtcCIsImNyZWF0ZUltYWdlQml0bWFwIiwibWF4U2lkZSIsIk1hdGgiLCJtYXgiLCJzY2FsZSIsImNlaWwiLCJ3IiwiaCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3SW1hZ2UiLCJ2aWJyYXRlIiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsInIiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsImNvZGUiLCJjb2RlcyIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJjYXB0dXJlQW5kRGV0ZWN0IiwidnciLCJ2aWRlb1dpZHRoIiwiY2xpZW50V2lkdGgiLCJ2aCIsInZpZGVvSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicngiLCJyeSIsInJ3IiwicmgiLCJyb3VuZCIsInJldHJ5IiwiZGl2Iiwic3R5bGUiLCJvdmVybGF5U3R5bGUiLCJjb250YWluZXJTdHlsZSIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJtYXJnaW5Cb3R0b20iLCJzdHJvbmciLCJidXR0b24iLCJvbkNsaWNrIiwiY29sb3IiLCJwb3NpdGlvbiIsImFzcGVjdFJhdGlvIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsIm92ZXJmbG93IiwicmVmIiwicGxheXNJbmxpbmUiLCJtdXRlZCIsIm9iamVjdEZpdCIsImltZyIsInNyYyIsImFsdCIsImZyYW1lU3R5bGUiLCJtYXJnaW5Ub3AiLCJnYXAiLCJmbGV4V3JhcCIsImRpc2FibGVkIiwicGFkZGluZyIsImJvcmRlciIsImlucHV0IiwidHlwZSIsImFjY2VwdCIsIm9uQ2hhbmdlIiwic2VsZWN0IiwidmFsdWUiLCJtYXAiLCJvcHRpb24iLCJzbGljZSIsImluc2V0IiwicGxhY2VJdGVtcyIsInpJbmRleCIsImJveFNoYWRvdyIsInBvaW50ZXJFdmVudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/BarcodeScanner.tsx\n"));

/***/ })

});